<!DOCTYPE html>
<html lang="tr">
<head>
    {% load static %}
    {% load crispy_forms_tags %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Cihaz Takip Sistemi{% endblock %}</title>
    
    <!-- TailwindCSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Custom Theme System CSS -->
    <link rel="stylesheet" href="{% static 'css/theme-system.css' %}">
    
    <!-- Theme Manager JS -->
    <script src="{% static 'js/theme-manager.js' %}" defer></script>
    
    <!-- Custom CSS -->
    <style>
        /* CSS Değişkenleri - Renk Paleti Kontrolü */
        :root {
            /* Ana Renkler - Daha Açık ve Canlı */
            --primary-bg: #f8fafc;
            --secondary-bg: #f1f5f9;
            --accent-bg: #e2e8f0;
            --card-bg: #ffffff;
            --surface-bg: #f8fafc;
            
            /* Metin Renkleri - Daha Koyu ve Okunabilir */
            --text-primary: #1e293b;
            --text-secondary: #475569;
            --text-muted: #64748b;
            --text-accent: #0891b2;
            
            /* Vurgu Renkleri - Daha Canlı ve Çeşitli */
            --accent-cyan: #0891b2;
            --accent-blue: #2563eb;
            --accent-green: #059669;
            --accent-purple: #7c3aed;
            --accent-pink: #db2777;
            --accent-orange: #d97706;
            --accent-red: #dc2626;
            --accent-yellow: #ca8a04;
            --accent-teal: #0d9488;
            --accent-indigo: #4f46e5;
            --accent-rose: #e11d48;
            --accent-emerald: #047857;
            --accent-violet: #6d28d9;
            --accent-fuchsia: #a21caf;
            --accent-sky: #0284c7;
            --accent-lime: #65a30d;
            
            /* Border Renkleri - Daha Yumuşak */
            --border-primary: #e2e8f0;
            --border-accent: #0891b2;
            --border-muted: #f1f5f9;
            
            /* Glow Efektleri - Daha Yumuşak */
            --glow-cyan: rgba(8, 145, 178, 0.2);
            --glow-blue: rgba(37, 99, 235, 0.2);
            --glow-green: rgba(5, 150, 105, 0.2);
            --glow-purple: rgba(124, 58, 237, 0.2);
            --glow-pink: rgba(219, 39, 119, 0.2);
            --glow-orange: rgba(217, 119, 6, 0.2);
            --glow-red: rgba(220, 38, 38, 0.2);
            --glow-yellow: rgba(202, 138, 4, 0.2);
            --glow-teal: rgba(13, 148, 136, 0.2);
            --glow-indigo: rgba(79, 70, 229, 0.2);
        }
        
        /* Tema Değişkenleri - Daha Açık ve Canlı */
        .theme-light {
            --primary-bg: #ffffff;
            --secondary-bg: #f8fafc;
            --accent-bg: #f1f5f9;
            --card-bg: #ffffff;
            --surface-bg: #f8fafc;
            --text-primary: #0f172a;
            --text-secondary: #1e293b;
            --text-muted: #475569;
            --border-primary: #e2e8f0;
            --border-accent: #0891b2;
            --border-muted: #f1f5f9;
        }
        
        .theme-dark {
            --primary-bg: #0f172a;
            --secondary-bg: #1e293b;
            --accent-bg: #334155;
            --card-bg: #1e293b;
            --surface-bg: #334155;
            --text-primary: #f8fafc;
            --text-secondary: #cbd5e1;
            --text-muted: #94a3b8;
            --border-primary: #475569;
            --border-accent: #0891b2;
            --border-muted: #334155;
        }
        
        .theme-cyber {
            --primary-bg: #1e293b;
            --secondary-bg: #334155;
            --accent-bg: #475569;
            --card-bg: #334155;
            --surface-bg: #475569;
            --text-primary: #f1f5f9;
            --text-secondary: #cbd5e1;
            --text-muted: #94a3b8;
            --border-primary: #64748b;
            --border-accent: #06b6d4;
            --border-muted: #475569;
            --accent-cyan: #06b6d4;
            --accent-blue: #3b82f6;
            --accent-green: #10b981;
            --accent-yellow: #f59e0b;
            --accent-orange: #f97316;
            --accent-red: #ef4444;
            --accent-purple: #8b5cf6;
            --accent-pink: #ec4899;
            --glow-cyan: rgba(6, 182, 212, 0.3);
            --glow-blue: rgba(59, 130, 246, 0.3);
            --glow-green: rgba(16, 185, 129, 0.3);
            --glow-yellow: rgba(245, 158, 11, 0.3);
            --glow-orange: rgba(249, 115, 22, 0.3);
            --glow-red: rgba(239, 68, 68, 0.3);
            --glow-purple: rgba(139, 92, 246, 0.3);
            --glow-pink: rgba(236, 72, 153, 0.3);
        }
        
        .theme-sunset {
            --primary-bg: #fef3c7;
            --secondary-bg: #fde68a;
            --accent-bg: #fbbf24;
            --card-bg: #ffffff;
            --surface-bg: #fef3c7;
            --text-primary: #92400e;
            --text-secondary: #b45309;
            --text-muted: #d97706;
            --border-primary: #fbbf24;
            --border-accent: #f59e0b;
            --border-muted: #fde68a;
        }
        
        .theme-ocean {
            --primary-bg: #e0f2fe;
            --secondary-bg: #b3e5fc;
            --accent-bg: #81d4fa;
            --card-bg: #ffffff;
            --surface-bg: #e0f2fe;
            --text-primary: #0c4a6e;
            --text-secondary: #075985;
            --text-muted: #0369a1;
            --border-primary: #81d4fa;
            --border-accent: #0288d1;
            --border-muted: #b3e5fc;
        }
        
        .theme-forest {
            --primary-bg: #dcfce7;
            --secondary-bg: #bbf7d0;
            --accent-bg: #86efac;
            --card-bg: #ffffff;
            --surface-bg: #dcfce7;
            --text-primary: #14532d;
            --text-secondary: #166534;
            --text-muted: #15803d;
            --border-primary: #86efac;
            --border-accent: #16a34a;
            --border-muted: #bbf7d0;
        }
        
        .theme-lavender {
            --primary-bg: #f3e8ff;
            --secondary-bg: #e9d5ff;
            --accent-bg: #d8b4fe;
            --card-bg: #ffffff;
            --surface-bg: #f3e8ff;
            --text-primary: #581c87;
            --text-secondary: #6b21a8;
            --text-muted: #7c3aed;
            --border-primary: #d8b4fe;
            --border-accent: #a855f7;
            --border-muted: #e9d5ff;
        }
        
        .theme-coral {
            --primary-bg: #fef2f2;
            --secondary-bg: #fecaca;
            --accent-bg: #fca5a5;
            --card-bg: #ffffff;
            --surface-bg: #fef2f2;
            --text-primary: #7f1d1d;
            --text-secondary: #991b1b;
            --text-muted: #b91c1c;
            --border-primary: #fca5a5;
            --border-accent: #ef4444;
            --border-muted: #fecaca;
        }
        
        .sidebar-transition {
            transition: all 0.3s ease;
        }
        
        .content-transition {
            transition: margin-left 0.3s ease;
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }
        
        .cyber-gradient {
            background: linear-gradient(135deg, var(--primary-bg) 0%, var(--secondary-bg) 25%, var(--accent-bg) 50%, var(--accent-bg) 75%, var(--surface-bg) 100%);
        }
        
        .cyber-glow {
            box-shadow: 0 0 20px var(--glow-cyan), 0 0 40px rgba(6, 182, 212, 0.1);
        }
        
        .cyber-border {
            border: 1px solid var(--border-accent);
        }
        
        .cyber-text {
            color: var(--accent-cyan);
            text-shadow: 0 0 10px var(--glow-cyan);
        }
        
        .btn-cyber-primary {
            @apply bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-105 hover:shadow-lg;
            box-shadow: 0 0 15px var(--glow-cyan);
            border: 1px solid var(--accent-cyan);
        }
        
        .btn-cyber-secondary {
            @apply bg-gradient-to-r from-slate-500 to-slate-600 hover:from-slate-400 hover:to-slate-500 text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-105 hover:shadow-lg;
            border: 1px solid var(--border-primary);
        }
        
        .btn-cyber-danger {
            @apply bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-105 hover:shadow-lg;
            box-shadow: 0 0 15px var(--glow-red);
            border: 1px solid var(--accent-red);
        }
        
        .btn-cyber-success {
            @apply bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-105 hover:shadow-lg;
            box-shadow: 0 0 15px var(--glow-green);
            border: 1px solid var(--accent-green);
        }
        
        .btn-cyber-warning {
            @apply bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-105 hover:shadow-lg;
            box-shadow: 0 0 15px var(--glow-orange);
            border: 1px solid var(--accent-orange);
        }
        
        .btn-cyber-info {
            @apply bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-105 hover:shadow-lg;
            box-shadow: 0 0 15px var(--glow-blue);
            border: 1px solid var(--accent-blue);
        }
        
        .btn-cyber-purple {
            @apply bg-gradient-to-r from-purple-500 to-violet-600 hover:from-purple-600 hover:to-violet-700 text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-105 hover:shadow-lg;
            box-shadow: 0 0 15px var(--glow-purple);
            border: 1px solid var(--accent-purple);
        }
        
        .cyber-card {
            @apply bg-slate-700 rounded-xl p-2 md:p-3 lg:p-4;
            border: 1px solid #475569;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.25);
            background-color: rgb(51, 65, 85);
            color: var(--text-primary);
        }
        
        .cyber-input {
            @apply bg-slate-600 border border-slate-500 text-white placeholder-slate-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent;
            box-shadow: 0 0 10px var(--glow-cyan);
            background-color: #475569;
            border-color: #64748b;
            color: #ffffff;
        }
        
        .cyber-select {
            @apply bg-slate-600 border border-slate-500 text-white rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent;
            box-shadow: 0 0 10px var(--glow-cyan);
            background-color: #475569;
            border-color: #64748b;
            color: #ffffff;
        }
        
        .cyber-table {
            @apply bg-slate-700 border border-slate-600 rounded-lg overflow-hidden;
            background-color: #475569;
            border-color: #64748b;
        }
        
        .cyber-table th {
            @apply bg-slate-600 text-white font-bold px-6 py-4 text-left border-b border-slate-500;
            background-color: #334155;
            color: #ffffff;
            border-color: #64748b;
        }
        
        .cyber-table td {
            @apply px-6 py-4 border-b border-slate-500 text-slate-200;
            border-color: #64748b;
            color: #e2e8f0;
        }
        
        .cyber-table tr:hover {
            @apply bg-gray-50;
            background-color: var(--surface-bg);
        }
        
        .pulse-glow {
            animation: pulse-glow 2s infinite;
        }
        
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(0, 255, 255, 0.3); }
            50% { box-shadow: 0 0 30px rgba(0, 255, 255, 0.6); }
        }
        
        .matrix-bg {
            background: linear-gradient(45deg, #0a0a0a 25%, transparent 25%), 
                        linear-gradient(-45deg, #0a0a0a 25%, transparent 25%), 
                        linear-gradient(45deg, transparent 75%, #0a0a0a 75%), 
                        linear-gradient(-45deg, transparent 75%, #0a0a0a 75%);
            background-size: 20px 20px;
            background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
        }
        
        .slide-in-left {
            animation: slide-in-left 0.5s ease-out;
        }
        
        @keyframes slide-in-left {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .slide-in-right {
            animation: slide-in-right 0.5s ease-out;
        }
        
        @keyframes slide-in-right {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .fade-in-up {
            animation: fade-in-up 0.6s ease-out;
        }
        
        @keyframes fade-in-up {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .bounce-in {
            animation: bounce-in 0.8s ease-out;
        }
        
        @keyframes bounce-in {
            0% { transform: scale(0.3); opacity: 0; }
            50% { transform: scale(1.05); }
            70% { transform: scale(0.9); }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .floating {
            animation: floating 3s ease-in-out infinite;
        }
        
        @keyframes floating {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .glitch {
            animation: glitch 2s infinite;
        }
        
        @keyframes glitch {
            0%, 100% { transform: translate(0); }
            20% { transform: translate(-2px, 2px); }
            40% { transform: translate(-2px, -2px); }
            60% { transform: translate(2px, 2px); }
            80% { transform: translate(2px, -2px); }
        }
        
        /* Tema Değiştirici Butonları - Daha Canlı Renkler */
        .theme-btn {
            @apply w-10 h-10 rounded-lg border-2 transition-all duration-300 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-cyan-500;
        }
        
        .theme-light-btn {
            @apply bg-yellow-100 border-yellow-400 text-yellow-700 hover:bg-yellow-200 hover:border-yellow-500;
        }
        
        .theme-dark-btn {
            @apply bg-slate-600 border-slate-400 text-slate-200 hover:bg-slate-500 hover:border-slate-300;
        }
        
        .theme-cyber-btn {
            @apply bg-cyan-600 border-cyan-400 text-cyan-100 hover:bg-cyan-500 hover:border-cyan-300;
        }
        
        .theme-sunset-btn {
            @apply bg-orange-100 border-orange-400 text-orange-700 hover:bg-orange-200 hover:border-orange-500;
        }
        
        .theme-ocean-btn {
            @apply bg-blue-100 border-blue-400 text-blue-700 hover:bg-blue-200 hover:border-blue-500;
        }
        
        .theme-forest-btn {
            @apply bg-green-100 border-green-400 text-green-700 hover:bg-green-200 hover:border-green-500;
        }
        
        .theme-lavender-btn {
            @apply bg-purple-100 border-purple-400 text-purple-700 hover:bg-purple-200 hover:border-purple-500;
        }
        
        .theme-coral-btn {
            @apply bg-pink-100 border-pink-400 text-pink-700 hover:bg-pink-200 hover:border-pink-500;
        }
        
        .theme-btn.active {
            @apply ring-2 ring-cyan-500 scale-110 shadow-lg;
        }
        
        .chart-container {
            position: relative;
            height: 200px;
            width: 100%;
        }
        
        .stat-card {
            transition: transform 0.2s ease-in-out;
        }
        
        .stat-card:hover {
            transform: translateY(-2px);
        }
        
        .form-input {
            @apply w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent;
        }
        
        .form-select {
            @apply w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent;
        }
        
        /* Alert Styles */
        .alert {
            @apply p-4 rounded-lg border mb-4;
        }
        
        .alert-success {
            @apply bg-green-900 border-green-700 text-green-100;
        }
        
        .alert-error {
            @apply bg-red-900 border-red-700 text-red-100;
        }
        
        .alert-warning {
            @apply bg-yellow-900 border-yellow-700 text-yellow-100;
        }
        
        .alert-info {
            @apply bg-blue-900 border-blue-700 text-blue-100;
        }
        
        /* Better contrast for all text elements */
        .text-gray-600, .text-gray-700, .text-gray-800, .text-gray-900 {
            color: #e2e8f0 !important;
        }
        
        .bg-gray-50, .bg-gray-100, .bg-gray-200 {
            background-color: #475569 !important;
        }
        /* Sidebar styling */
        .sidebar {
            background: linear-gradient(135deg, var(--primary-bg) 0%, var(--secondary-bg) 100%);
            border-right: 2px solid var(--border-color);
            box-shadow: 0 0 20px var(--glow-color);
        }
        
        .sidebar-header {
            background: linear-gradient(135deg, var(--accent-color) 0%, var(--accent-secondary) 100%);
            border-bottom: 2px solid var(--border-color);
        }
        
        .sidebar-nav a {
            color: var(--text-secondary);
            border-left: 2px solid transparent;
            transition: all 0.3s ease;
        }
        
        .sidebar-nav a:hover {
            background: var(--hover-bg);
            color: var(--accent-color);
            border-left-color: var(--accent-color);
            box-shadow: 0 0 15px var(--glow-color);
        }
        
        .sidebar-nav a.active {
            background: var(--accent-color);
            color: var(--text-primary);
            border-left-color: var(--accent-color);
            box-shadow: 0 0 15px var(--glow-color);
        }

        /* Tema renkleri */
        .theme-light {
            --primary-bg: #f8fafc;
            --secondary-bg: #e2e8f0;
            --accent-color: #06b6d4;
            --accent-secondary: #0891b2;
            --text-primary: #1e293b;
            --text-secondary: #475569;
            --border-color: #cbd5e1;
            --hover-bg: #e2e8f0;
            --glow-color: rgba(6, 182, 212, 0.3);
        }

        .theme-cyber {
            --primary-bg: #0f172a;
            --secondary-bg: #1e293b;
            --accent-color: #06b6d4;
            --accent-secondary: #0891b2;
            --text-primary: #f1f5f9;
            --text-secondary: #cbd5e1;
            --border-color: #334155;
            --hover-bg: #334155;
            --glow-color: rgba(6, 182, 212, 0.5);
        }

        .theme-dark {
            --primary-bg: #111827;
            --secondary-bg: #1f2937;
            --accent-color: #3b82f6;
            --accent-secondary: #1d4ed8;
            --text-primary: #f9fafb;
            --text-secondary: #d1d5db;
            --border-color: #374151;
            --hover-bg: #374151;
            --glow-color: rgba(59, 130, 246, 0.4);
        }

        .theme-purple {
            --primary-bg: #1a1a2e;
            --secondary-bg: #16213e;
            --accent-color: #a855f7;
            --accent-secondary: #9333ea;
            --text-primary: #f3f4f6;
            --text-secondary: #d1d5db;
            --border-color: #4c1d95;
            --hover-bg: #4c1d95;
            --glow-color: rgba(168, 85, 247, 0.4);
        }

        .theme-green {
            --primary-bg: #064e3b;
            --secondary-bg: #065f46;
            --accent-color: #10b981;
            --accent-secondary: #059669;
            --text-primary: #f0fdf4;
            --text-secondary: #d1fae5;
            --border-color: #047857;
            --hover-bg: #047857;
            --glow-color: rgba(16, 185, 129, 0.4);
        }

        .theme-orange {
            --primary-bg: #7c2d12;
            --secondary-bg: #9a3412;
            --accent-color: #f97316;
            --accent-secondary: #ea580c;
            --text-primary: #fef7ed;
            --text-secondary: #fed7aa;
            --border-color: #c2410c;
            --hover-bg: #c2410c;
            --glow-color: rgba(249, 115, 22, 0.4);
        }

        .theme-pink {
            --primary-bg: #831843;
            --secondary-bg: #9d174d;
            --accent-color: #ec4899;
            --accent-secondary: #db2777;
            --text-primary: #fdf2f8;
            --text-secondary: #fce7f3;
            --border-color: #be185d;
            --hover-bg: #be185d;
            --glow-color: rgba(236, 72, 153, 0.4);
        }

        .theme-red {
            --primary-bg: #7f1d1d;
            --secondary-bg: #991b1b;
            --accent-color: #ef4444;
            --accent-secondary: #dc2626;
            --text-primary: #fef2f2;
            --text-secondary: #fee2e2;
            --border-color: #b91c1c;
            --hover-bg: #b91c1c;
            --glow-color: rgba(239, 68, 68, 0.4);
        }
        /* Sidebar Styles */
        .sidebar-link {
            @apply flex items-center px-4 py-3 text-sm font-medium text-slate-300 rounded-lg hover:bg-slate-700 hover:text-white transition-all duration-200;
        }
        
        .sidebar-link.active {
            @apply bg-cyan-600 text-white shadow-lg;
        }
        
        .sidebar-link:hover {
            @apply transform translate-x-1;
        }
        
        .sidebar-link.external-link {
            @apply border border-slate-600 hover:border-cyan-500;
        }
        
        /* Modern Compact Sidebar Styles */
        .nav-item {
            @apply flex items-center w-full p-2 text-white rounded-xl transition-all duration-300 hover:bg-white/10 group/item relative;
        }
        
        .nav-item.active {
            @apply bg-gradient-to-r from-cyan-500/20 to-blue-500/20 border border-cyan-500/30 shadow-lg shadow-cyan-500/20;
        }
        
        .nav-item:hover {
            @apply transform scale-105 shadow-2xl;
        }
        
        /* Old nav-text styles removed - using new responsive styles */
        
        /* Sidebar text elements - always visible */
        .nav-text,
        .section-title,
        .user-info,
        .header-text {
            opacity: 1 !important;
            visibility: visible !important;
            display: block !important;
            width: auto !important;
            height: auto !important;
            max-width: none !important;
            max-height: none !important;
            overflow: visible !important;
            position: static !important;
            left: auto !important;
        }
        
        /* Navigation items - always left-aligned */
        .nav-item-responsive {
            justify-content: flex-start !important;
        }
        
        /* Sidebar - no width transition */
        #sidebar {
            transition: none !important;
        }
        
        /* Remove any margins when collapsed */
        #sidebar:not(:hover) .nav-item {
            @apply px-0 py-2;
        }
        
        #sidebar:hover .nav-item {
            @apply px-2 py-2;
        }
        
        /* Responsive sidebar width adjustments */
        @media (min-width: 1024px) {
            .main-content {
                margin-left: 4rem; /* 64px - collapsed sidebar */
            }
            
            /* Header should stay fixed and not move with sidebar */
            header {
                position: fixed !important;
                top: 0 !important;
                left: 0 !important;
                right: 0 !important;
                z-index: 60 !important;
                margin-left: 0 !important;
                width: 100% !important;
            }
            
            /* Main content should have top padding to account for fixed header */
            main {
                padding-top: 5rem !important;
            }
        }
        
        /* Quick Action Button Styles */
        .quick-action-btn {
            @apply inline-flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl;
        }
        
        /* Quick Actions Bar Responsive */
        #quickActionsBar {
            @apply flex items-center justify-center;
            gap: 0.5rem;
        }
        
        @media (max-width: 640px) {
            #quickActionsBar {
                gap: 0.25rem;
            }
            .quick-action-btn {
                @apply px-2 py-1 text-xs;
            }
        }
        
        @media (min-width: 641px) and (max-width: 768px) {
            #quickActionsBar {
                gap: 0.5rem;
            }
            .quick-action-btn {
                @apply px-3 py-2 text-sm;
            }
        }
        
        @media (min-width: 769px) {
            #quickActionsBar {
                gap: 0.75rem;
            }
            .quick-action-btn {
                @apply px-4 py-2 text-base;
            }
        }
        
        /* Better flexbox wrapping */
        #quickActionsBar {
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
        }
        
        /* Responsive Design - New Compact Sidebar */
        @media (max-width: 1023px) {
            /* Mobile & Tablet */
            #sidebar {
                transform: translateX(-100%);
                width: 280px;
            }
            
            #sidebar.show {
                transform: translateX(0);
            }
            
            .main-content {
                margin-left: 0;
            }
        }
        
        @media (min-width: 1024px) {
            /* Desktop - Sidebar sürekli açık */
            #sidebar {
                width: 18rem !important; /* 288px - sürekli geniş */
                transform: translateX(0) !important; /* Sürekli görünür */
                transition: none !important; /* Animasyon yok */
            }
            
            .main-content {
                margin-left: 18rem !important;
                transition: none !important;
            }
        }
        
        /* Mobile Sidebar Toggle */
        @media (max-width: 1023px) {
            .sidebar-toggle {
                @apply fixed top-4 left-4 z-60 lg:hidden bg-slate-800 text-white p-3 rounded-lg shadow-lg;
            }
        }
        
        /* Mobile Overlay */
        #sidebar-overlay {
            @apply fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden;
            display: none;
        }
        
        #sidebar-overlay.show {
            display: block;
        }
        
        /* General Text Styles */
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--primary-bg);
            color: var(--text-primary);
            line-height: 1.6;
        }
        
        h1, h2, h3, h4, h5, h6 {
            color: var(--text-primary);
            font-weight: 600;
        }
        
        p, span, div {
            color: var(--text-primary);
        }
        
        .text-slate-400 {
            color: #cbd5e1 !important;
        }
        
        .text-slate-300 {
            color: #e2e8f0 !important;
        }
        
        /* Kurumsal Sidebar Stilleri */
        .nav-item-corporate {
            @apply flex items-center px-4 py-3 mx-2 rounded-2xl text-white transition-all duration-300 hover:bg-slate-700/50 hover:scale-105 relative group/item;
        }
        
        .nav-item-corporate:hover {
            transform: translateX(8px);
        }
        
        .nav-item-corporate.active-corporate {
            @apply bg-gradient-to-r from-blue-600/20 to-indigo-600/20 border border-blue-500/30;
            transform: translateX(8px);
        }
        
        .nav-item-corporate.active-corporate::before {
            content: '';
            @apply absolute left-0 top-1/2 w-1 h-8 bg-gradient-to-b from-blue-500 to-indigo-500 rounded-r-full transform -translate-y-1/2;
        }
        
        .nav-text-corporate {
            @apply ml-4 text-sm font-semibold text-white whitespace-nowrap opacity-0 group-hover:opacity-100 transition-all duration-500;
        }
        
        .nav-indicator {
            @apply absolute right-3 top-1/2 w-2 h-2 bg-white rounded-full opacity-0 transform -translate-y-1/2 transition-all duration-300;
        }
        
        .nav-item-corporate:hover .nav-indicator {
            @apply opacity-100 scale-150;
        }
        
        .nav-item-corporate.active-corporate .nav-indicator {
            @apply opacity-100 scale-150 bg-blue-400;
        }
        
        /* Sidebar Hover Efektleri */
        #sidebar {
            box-shadow: 0 0 40px rgba(0, 0, 0, 0.8);
        }
        
        .header-text {
            transform: translateX(0);
        }
        
        /* Responsive Sidebar */
        @media (max-width: 1023px) {
            #sidebar {
                transform: translateX(-100%);
                width: 320px;
            }
            
            #sidebar.show {
                transform: translateX(0);
            }
            
            .main-content {
                margin-left: 0;
            }
        }
        
        @media (min-width: 1024px) {
            #sidebar {
                width: 18rem !important; /* 288px - sürekli geniş */
                transform: translateX(0) !important; /* Sürekli görünür */
                transition: none !important; /* Animasyon yok */
            }
            
            .main-content {
                margin-left: 18rem !important;
                transition: none !important;
            }
        }
        
        /* Sidebar Animasyonları */
        .sidebar-transition {
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* Hover Efektleri */
        .nav-item-corporate .nav-text-corporate {
            transform: translateX(4px);
        }
        
        /* Active State Animasyonu */
        .nav-item-corporate.active-corporate .nav-text-corporate {
            transform: translateX(4px);
        }
        
        /* Section Title Animasyonları */
        .section-title {
            transform: translateY(0);
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* Logo Rotasyon Efekti */
        .header-text .w-12 {
            animation: logo-rotate 0.5s ease-out;
        }
        
        @keyframes logo-rotate {
            0% { transform: rotate(0deg) scale(1); }
            50% { transform: rotate(3deg) scale(1.1); }
            100% { transform: rotate(3deg) scale(1.1); }
        }
        
        /* Gradient Border Animasyonu */
        .nav-item-corporate::after {
            content: '';
            @apply absolute inset-0 rounded-2xl opacity-0 transition-opacity duration-300;
            background: linear-gradient(45deg, transparent, rgba(59, 130, 246, 0.1), transparent);
        }
        
        .nav-item-corporate:hover::after {
            @apply opacity-100;
        }
        
        /* Sidebar Scroll Bar Styling */
        #sidebar::-webkit-scrollbar {
            width: 6px;
        }
        
        #sidebar::-webkit-scrollbar-track {
            @apply bg-slate-800/50;
        }
        
        #sidebar::-webkit-scrollbar-thumb {
            @apply bg-slate-600/50 rounded-full;
        }
        
        #sidebar::-webkit-scrollbar-thumb:hover {
            @apply bg-slate-500/70;
        }
        
        /* Modern Elegant Sidebar Stilleri - Koyu Tema Uyumlu */
        .nav-item-modern {
            @apply flex items-center px-3 py-2.5 mx-2 rounded-lg text-gray-200 transition-all duration-200 hover:bg-slate-700 hover:scale-105 relative;
        }
        
        .nav-item-modern:hover {
            transform: translateX(2px);
        }
        
        .nav-item-modern.active-modern {
            @apply bg-slate-700 border border-slate-500;
            transform: translateX(2px);
        }
        
        .nav-item-modern.active-modern::before {
            content: '';
            @apply absolute left-0 top-1/2 w-1 h-6 bg-blue-500 rounded-r-full transform -translate-y-1/2;
        }
        
        .nav-text-modern {
            @apply ml-3 text-sm font-medium text-gray-200 whitespace-nowrap;
        }
        
        /* Responsive Sidebar - Koyu Tema Uyumlu */
        @media (max-width: 1023px) {
            #sidebar {
                transform: translateX(-100%);
                width: 280px;
            }
            
            #sidebar.show {
                transform: translateX(0);
            }
            
            .main-content {
                margin-left: 0;
                padding: 1rem;
            }
        }
        
        @media (min-width: 1024px) {
            #sidebar {
                width: 18rem; /* 288px - geniş sidebar */
                transform: translateX(0);
            }
            
            .main-content {
                margin-left: 18rem !important;
                padding: 1rem;
            }
        }
        
        /* Sidebar Animasyonları */
        .sidebar-transition {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* Hover Efektleri */
        .nav-item-modern:hover .nav-text-modern {
            transform: translateX(1px);
        }
        
        /* Active State Animasyonu */
        .nav-item-modern.active-modern .nav-text-modern {
            transform: translateX(1px);
        }
        
        /* Sidebar Scroll Bar Styling */
        #sidebar::-webkit-scrollbar {
            width: 4px;
        }
        
        #sidebar::-webkit-scrollbar-track {
            @apply bg-slate-700;
        }
        
        #sidebar::-webkit-scrollbar-thumb {
            @apply bg-slate-500 rounded-full;
        }
        
        #sidebar::-webkit-scrollbar-thumb:hover {
            @apply bg-slate-400;
        }
        
        /* Hover State Transitions */
        .nav-item-modern .w-10 {
            transition: all 0.2s ease-in-out;
        }
        
        .nav-item-modern:hover .w-10 {
            transform: scale(1.05);
        }
        
        /* Text Color Transitions */
        .nav-item-modern .fas {
            transition: color 0.2s ease-in-out;
        }
        
        /* Active State Styling */
        .nav-item-modern.active-modern .w-10 {
            @apply bg-slate-600;
        }
        
        .nav-item-modern.active-modern .fas {
            @apply text-white;
        }
        
        .nav-item-modern.active-modern .nav-text-modern {
            @apply text-white font-semibold;
        }
        
        /* Main Content Responsive */
        .main-content {
            min-height: 100vh;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        }
        
        /* Sidebar Fixed Position */
        #sidebar {
            position: fixed;
            left: 0;
            top: 0;
            bottom: 0;
            z-index: 50;
            background: linear-gradient(180deg, #1e293b 0%, #334155 100%);
            border-right: 2px solid #475569;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.5);
            overflow-y: auto;
            overflow-x: hidden;
        }
        
        /* Sidebar Modern Stilleri */
        .sidebar-modern {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        
        /* Sidebar Header */
        .sidebar-header {
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            border-bottom: 1px solid #475569;
            padding: 1rem 0;
        }
        
        .sidebar-text {
            opacity: 1;
            transition: all 0.3s ease;
        }
        
        /* Sidebar Header Text */
        .sidebar-text h2 {
            color: #10b981 !important; /* Açık parlak yeşil */
        }
        
        .sidebar-text p {
            color: #34d399 !important; /* Daha parlak yeşil */
        }
        
        /* Navigation Sections */
        .nav-section {
            margin: 1rem 0;
        }
        
        .nav-section-title {
            color: #10b981 !important; /* Açık parlak yeşil */
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            padding: 0 1rem 0.5rem 1rem;
            margin-bottom: 0.5rem;
            border-bottom: 1px solid #10b981; /* Yeşil border */
        }
        
        .nav-section-divider {
            height: 1px;
            background: linear-gradient(90deg, transparent, #475569, transparent);
            margin: 0.5rem 1rem;
        }
        
        /* Navigation Items */
        .nav-item-responsive {
            display: flex;
            align-items: center;
            padding: 0.75rem 1rem;
            margin: 0.25rem 0.5rem;
            color: #10b981 !important; /* Açık parlak yeşil - sabit */
            text-decoration: none;
            border-radius: 0.75rem;
            transition: background-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease; /* Sadece gerekli özellikler için transition */
            position: relative;
            overflow: hidden;
        }
        
        .nav-item-responsive:hover {
            background: rgba(16, 185, 129, 0.05); /* Çok çok hafif yeşil arka plan */
            transform: translateX(4px);
            box-shadow: 0 2px 8px rgba(16, 185, 129, 0.1); /* Çok hafif yeşil gölge */
        }
        
        .nav-item-responsive.active {
            background: linear-gradient(135deg, #a78bfa 0%, #8b5cf6 100%); /* Çok açık mor gradient */
            color: #ffffff !important; /* Beyaz metin */
            transform: translateX(8px) scale(1.05); /* Daha fazla hareket */
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.6); /* Daha güçlü mor gölge */
            animation: activePulse 2s ease-in-out infinite; /* Sürekli hareket */
        }
        
        .nav-item-responsive.active::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            width: 6px; /* Daha kalın border */
            height: 70%; /* Daha uzun border */
            background: linear-gradient(180deg, #c4b5fd 0%, #a78bfa 100%); /* Çok açık mor gradient */
            border-radius: 0 3px 3px 0;
            transform: translateY(-50%);
            animation: borderGlow 2s ease-in-out infinite; /* Border animasyonu */
        }
        
        /* Navigation Icons */
        .nav-icon {
            width: 2.5rem;
            height: 2.5rem;
            background: linear-gradient(135deg, #475569 0%, #64748b 100%);
            border-radius: 0.75rem;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 0.75rem;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }
        
        .nav-item-responsive:hover .nav-icon {
            background: rgba(16, 185, 129, 0.1); /* Çok hafif yeşil arka plan */
            transform: scale(1.05); /* Daha az büyüme */
        }
        
        .nav-item-responsive.active .nav-icon {
            background: linear-gradient(135deg, #a78bfa 0%, #c4b5fd 100%); /* Çok açık mor gradient */
            transform: scale(1.15); /* Daha büyük */
            animation: iconPulse 2s ease-in-out infinite; /* Icon animasyonu */
        }
        
        /* Navigation Text */
        .nav-text {
            color: #10b981 !important; /* Açık parlak yeşil - sabit */
            font-size: 0.875rem;
            font-weight: 500;
            white-space: nowrap;
            opacity: 1;
            transition: font-weight 0.3s ease; /* Sadece font-weight için transition */
        }
        
        .nav-item-responsive:hover .nav-text {
            font-weight: 600;
            color: #10b981 !important; /* Hover'da da aynı yeşil kalır - renk değişmez */
        }
        
        .nav-item-responsive.active .nav-text {
            font-weight: 700; /* Daha kalın */
            color: #ffffff !important; /* Beyaz metin */
            text-shadow: 0 0 10px rgba(139, 92, 246, 0.8); /* Mor glow efekti */
            animation: textGlow 2s ease-in-out infinite; /* Metin animasyonu */
        }
        
        /* Hover durumunda metin renginin değişmemesini garanti altına al */
        .nav-item-responsive:hover .nav-text,
        .nav-item-responsive:focus .nav-text,
        .nav-item-responsive:active .nav-text {
            color: #10b981 !important; /* Her durumda yeşil kalır */
        }
        
        /* Tüm durumlarda metin rengini sabit tut */
        .nav-item-responsive .nav-text,
        .nav-item-responsive:hover .nav-text,
        .nav-item-responsive:focus .nav-text,
        .nav-item-responsive:active .nav-text,
        .nav-item-responsive:visited .nav-text {
            color: #10b981 !important; /* Her durumda yeşil kalır */
        }
        
        /* Sadece aktif durumda beyaz olsun (mor arka plan üzerinde) */
        .nav-item-responsive.active .nav-text {
            color: #ffffff !important; /* Aktif durumda beyaz */
        }
        
        /* Menü metinlerinin her zaman görünür olmasını garanti altına al */
        .nav-text {
            display: inline-block !important;
            visibility: visible !important;
            opacity: 1 !important;
            width: auto !important;
            height: auto !important;
            max-width: none !important;
            max-height: none !important;
            overflow: visible !important;
            position: static !important;
            left: auto !important;
            transform: none !important;
            pointer-events: auto !important;
        }
        
        /* Sidebar genişliğini sürekli tut */
        #sidebar {
            width: 18rem !important;
            min-width: 18rem !important;
            max-width: 18rem !important;
        }
        
        /* Main content margin'ini sabit tut */
        .main-content {
            margin-left: 18rem !important;
        }
        
        /* Active Menu Animasyonları */
        @keyframes activePulse {
            0%, 100% {
                transform: translateX(8px) scale(1.05);
                box-shadow: 0 8px 25px rgba(139, 92, 246, 0.6);
            }
            50% {
                transform: translateX(12px) scale(1.08);
                box-shadow: 0 12px 35px rgba(139, 92, 246, 0.8);
            }
        }
        
        @keyframes borderGlow {
            0%, 100% {
                background: linear-gradient(180deg, #c4b5fd 0%, #a78bfa 100%);
                box-shadow: 0 0 10px rgba(196, 181, 253, 0.5);
            }
            50% {
                background: linear-gradient(180deg, #ddd6fe 0%, #c4b5fd 100%);
                box-shadow: 0 0 20px rgba(196, 181, 253, 0.8);
            }
        }
        
        @keyframes iconPulse {
            0%, 100% {
                transform: scale(1.15);
                box-shadow: 0 0 15px rgba(139, 92, 246, 0.4);
            }
            50% {
                transform: scale(1.2);
                box-shadow: 0 0 25px rgba(139, 92, 246, 0.6);
            }
        }
        
        @keyframes textGlow {
            0%, 100% {
                text-shadow: 0 0 10px rgba(139, 92, 246, 0.8);
            }
            50% {
                text-shadow: 0 0 20px rgba(139, 92, 246, 1);
            }
        }
        
        /* Sidebar Footer */
        .sidebar-footer {
            margin-top: auto;
            padding: 1rem 0;
            border-top: 1px solid #475569;
        }
        
        /* Sidebar Overlay */
        .sidebar-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 40;
            display: none;
        }
        
        .sidebar-overlay.show {
            display: block;
        }
        
        /* Responsive Design için */
        @media (max-width: 1400px) {
            .main-content {
                padding: 0.75rem;
            }
        }
        
        @media (max-width: 1200px) {
            .main-content {
                padding: 0.5rem;
            }
        }
        
        /* Navigation Item Layout */
        .nav-item-modern {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            width: 100%;
            min-height: 44px;
        }
        
        .nav-item-modern .w-10 {
            flex-shrink: 0;
        }
        
        .nav-text-modern {
            flex: 1;
            text-align: left;
            overflow: hidden;
            text-overflow: ellipsis;
        }
    </style>
    
    {% block extra_css %}{% endblock %}
    <link rel="stylesheet" href="{% static 'admin/css/custom_admin.css' %}">
</head>
<body class="min-h-screen bg-slate-800">
    {% if user.is_authenticated %}
        <!-- Mobile Sidebar Toggle Button -->
        <button class="sidebar-toggle lg:hidden" onclick="toggleSidebar()">
            <i class="fas fa-bars text-lg"></i>
        </button>

        <!-- Responsive Modern Sidebar -->
        <aside class="sidebar-modern" id="sidebar">
            <!-- Sidebar Header -->
            <div class="sidebar-header">
                <div class="flex items-center px-4 py-4">
                    <div class="w-10 h-10 lg:w-12 lg:h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center shadow-lg">
                        <i class="fas fa-shield-alt text-white text-lg lg:text-xl"></i>
                    </div>
                    <div class="ml-3 sidebar-text">
                        <h2 class="text-base lg:text-lg font-bold">Cihaz Takip</h2>
                        <p class="text-xs lg:text-sm font-medium">Güvenlik Sistemi</p>
                    </div>
                </div>
            </div>

            <!-- User Profile -->
            <div class="px-4 py-4 border-b border-slate-600">
                <div class="flex items-center">
                    <div class="w-10 h-10 lg:w-12 lg:h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center shadow-md">
                        {% if user.profile_image %}
                            <img src="{{ user.profile_image.url }}" alt="Profil" class="w-full h-full rounded-full object-cover">
                        {% else %}
                            <i class="fas fa-user text-white text-sm lg:text-base"></i>
                        {% endif %}
                    </div>
                    <div class="ml-3 sidebar-text">
                        <p class="text-sm lg:text-base font-semibold truncate">{{ user.get_full_name|default:user.username }}</p>
                        <p class="text-xs lg:text-sm font-medium capitalize">{{ user.role|default:"Kullanıcı" }}</p>
                    </div>
                </div>
            </div>

            <!-- Navigation Menu -->
            <nav class="flex-1 py-2">
                <!-- Dashboard Section -->
                <div class="nav-section">
                    <h3 class="nav-section-title">Dashboard</h3>
                    <div class="nav-section-divider"></div>
                    <div class="space-y-1">
                        <a href="{% url 'dashboard:home' %}" class="nav-item-responsive {% if request.resolver_match.app_name == 'dashboard' and request.resolver_match.url_name == 'home' %}active{% endif %}">
                            <div class="nav-icon">
                                <i class="fas fa-home"></i>
                            </div>
                            <span class="nav-text">Ana Sayfa</span>
                        </a>
                        
                        <a href="{% url 'devices:device_list' %}" class="nav-item-responsive {% if request.resolver_match.app_name == 'devices' %}active{% endif %}">
                            <div class="nav-icon">
                                <i class="fas fa-mobile-alt"></i>
                            </div>
                            <span class="nav-text">Cihazlarım</span>
                        </a>
                        
                        <a href="{% url 'dashboard:statistics' %}" class="nav-item-responsive {% if request.resolver_match.url_name == 'statistics' %}active{% endif %}">
                            <div class="nav-icon">
                                <i class="fas fa-chart-bar"></i>
                            </div>
                            <span class="nav-text">İstatistikler</span>
                        </a>
                        
                        <a href="{% url 'dashboard:activity_log' %}" class="nav-item-responsive {% if request.resolver_match.url_name == 'activity_log' %}active{% endif %}">
                            <div class="nav-icon">
                                <i class="fas fa-history"></i>
                            </div>
                            <span class="nav-text">Aktiviteler</span>
                        </a>
                    </div>
                </div>

                <!-- User Management -->
                <div class="nav-section">
                    <h3 class="nav-section-title">Kullanıcı</h3>
                    <div class="nav-section-divider"></div>
                    <div class="space-y-1">
                        <a href="{% url 'users:profile' %}" class="nav-item-responsive {% if request.resolver_match.url_name == 'profile' %}active{% endif %}">
                            <div class="nav-icon">
                                <i class="fas fa-user-circle"></i>
                            </div>
                            <span class="nav-text">Profil</span>
                        </a>
                        
                        <a href="{% url 'users:change_password' %}" class="nav-item-responsive {% if request.resolver_match.url_name == 'change_password' %}active{% endif %}">
                            <div class="nav-icon">
                                <i class="fas fa-key"></i>
                            </div>
                            <span class="nav-text">Şifre Değiştir</span>
                        </a>
                    </div>
                </div>

                <!-- Admin Section -->
                {% if user.is_staff or user.role == 'admin' or user.role == 'superadmin' %}
                <div class="nav-section">
                    <h3 class="nav-section-title">Yönetim</h3>
                    <div class="nav-section-divider"></div>
                    <div class="space-y-1">
                        <a href="{% url 'users:user_list' %}" class="nav-item-responsive {% if request.resolver_match.url_name == 'user_list' %}active{% endif %}">
                            <div class="nav-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <span class="nav-text">Kullanıcılar</span>
                        </a>
                        
                        <a href="{% url 'users:add_user' %}" class="nav-item-responsive {% if request.resolver_match.url_name == 'add_user' %}active{% endif %}">
                            <div class="nav-icon">
                                <i class="fas fa-user-plus"></i>
                            </div>
                            <span class="nav-text">Kullanıcı Ekle</span>
                        </a>
                        
                        {% if user.role == 'superadmin' %}
                        <a href="{% url 'users:user_permissions' %}" class="nav-item-responsive {% if request.resolver_match.url_name == 'user_permissions' %}active{% endif %}">
                            <div class="nav-icon">
                                <i class="fas fa-user-shield"></i>
                            </div>
                            <span class="nav-text">Yetkiler</span>
                        </a>
                        {% endif %}
                    </div>
                </div>
                {% endif %}

                <!-- System Section -->
                {% if user.is_staff or user.role == 'admin' or user.role == 'superadmin' %}
                <div class="nav-section">
                    <h3 class="nav-section-title">Sistem</h3>
                    <div class="nav-section-divider"></div>
                    <div class="space-y-1">
                        <a href="{% url 'dashboard:system_info' %}" class="nav-item-responsive {% if request.resolver_match.url_name == 'system_info' %}active{% endif %}">
                            <div class="nav-icon">
                                <i class="fas fa-server"></i>
                            </div>
                            <span class="nav-text">Sistem Bilgileri</span>
                        </a>
                        
                        {% if user.is_superuser %}
                        <a href="{% url 'dashboard:admin_panel' %}" class="nav-item-responsive {% if request.resolver_match.url_name == 'admin_panel' %}active{% endif %}">
                            <div class="nav-icon">
                                <i class="fas fa-cogs"></i>
                            </div>
                            <span class="nav-text">Admin Panel</span>
                        </a>
                        {% endif %}
                    </div>
                </div>
                {% endif %}
            </nav>

            <!-- Sidebar Footer -->
            <div class="px-4 py-4 border-t border-slate-600">
                <a href="{% url 'users:logout' %}" class="nav-item-responsive hover:bg-red-500/20">
                    <div class="nav-icon">
                        <i class="fas fa-sign-out-alt text-white"></i>
                    </div>
                    <span class="nav-text">Çıkış Yap</span>
                </a>
            </div>
        </aside>

        <!-- Sidebar Overlay -->
        <div class="sidebar-overlay" id="sidebar-overlay" onclick="toggleSidebar()"></div>
        
        <!-- Main Content -->
        <div class="main-content bg-slate-800"
             data-theme="default">
            <!-- Top Header Bar -->
            <header class="sticky top-0 z-40 bg-gradient-to-r from-slate-700 via-slate-600 to-slate-700 border-b border-slate-500/30 shadow-lg">
                <div class="flex items-center justify-between px-4 md:px-6 py-2 md:py-3">
                    <!-- Logo and Title -->
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 md:w-10 md:h-10 bg-gradient-to-br from-blue-500 via-indigo-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg">
                            <i class="fas fa-cube text-white text-base md:text-lg"></i>
                        </div>
                        <div>
                            <h1 class="text-lg md:text-xl font-bold text-white">Cihaz Takip Sistemi</h1>
                            <p class="text-xs text-blue-300 font-mono hidden md:block">Siber Güvenlik Yönetimi</p>
                        </div>
                    </div>

                                            <!-- Quick Actions Bar -->
                        <div class="flex-1 mx-2 md:mx-4 lg:mx-8">
                            <div class="flex items-center justify-center space-x-1 md:space-x-2 lg:space-x-3 flex-wrap gap-2" id="quickActionsBar">
                            {% if user.is_authenticated %}
                                <!-- High Priority Quick Actions -->
                                <a href="{% url 'devices:device_add' %}" class="quick-action-btn {% if request.resolver_match.url_name == 'device_add' %}bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 border-purple-400/50{% else %}bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 border-green-400/30{% endif %} text-white px-2 md:px-3 lg:px-4 py-1 md:py-2 rounded-lg text-xs md:text-sm font-medium transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl border">
                                    <i class="fas fa-plus mr-1 md:mr-2"></i>
                                    <span class="hidden sm:inline">Cihaz Ekle</span>
                                    <span class="sm:hidden">+</span>
                                </a>
                                
                                <a href="{% url 'users:add_user' %}" class="quick-action-btn {% if request.resolver_match.url_name == 'add_user' %}bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 border-purple-400/50{% else %}bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 border-blue-400/30{% endif %} text-white px-2 md:px-3 lg:px-4 py-1 md:py-2 rounded-lg text-xs md:text-sm font-medium transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl border">
                                    <i class="fas fa-user-plus mr-1 md:mr-2"></i>
                                    <span class="hidden sm:inline">Kullanıcı Ekle</span>
                                    <span class="sm:hidden">+</span>
                                </a>
                                
                                <!-- Medium Priority Quick Actions -->
                                <a href="{% url 'devices:device_list' %}" class="quick-action-btn {% if request.resolver_match.url_name == 'device_list' %}bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 border-purple-400/50{% else %}bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 border-emerald-400/30{% endif %} text-white px-2 md:px-3 lg:px-4 py-1 md:py-2 rounded-lg text-xs md:text-sm font-medium transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl border">
                                    <i class="fas fa-list mr-1 md:mr-2"></i>
                                    <span class="hidden md:inline">Cihaz Listesi</span>
                                    <span class="md:hidden">📱</span>
                                </a>
                                
                                <a href="{% url 'users:user_list' %}" class="quick-action-btn {% if request.resolver_match.url_name == 'user_list' %}bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 border-purple-400/50{% else %}bg-gradient-to-r from-indigo-500 to-indigo-600 hover:from-indigo-600 hover:to-indigo-700 border-indigo-400/30{% endif %} text-white px-2 md:px-3 lg:px-4 py-1 md:py-2 rounded-lg text-xs md:text-sm font-medium transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl border">
                                    <i class="fas fa-users mr-1 md:mr-2"></i>
                                    <span class="hidden lg:inline">Kullanıcı Listesi</span>
                                    <span class="lg:hidden">👥</span>
                                </a>
                                
                                <!-- Information Quick Actions -->
                                <a href="{% url 'dashboard:statistics' %}" class="quick-action-btn {% if request.resolver_match.url_name == 'statistics' %}bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 border-purple-400/50{% else %}bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 border-purple-400/30{% endif %} text-white px-2 md:px-3 lg:px-4 py-1 md:py-2 rounded-lg text-xs md:text-sm font-medium transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl border">
                                    <i class="fas fa-chart-bar mr-1 md:mr-2"></i>
                                    <span class="hidden md:inline">İstatistikler</span>
                                    <span class="md:hidden">📊</span>
                                </a>
                                
                                <a href="{% url 'dashboard:activity_log' %}" class="quick-action-btn {% if request.resolver_match.url_name == 'activity_log' %}bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 border-purple-400/50{% else %}bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 border-orange-400/30{% endif %} text-white px-2 md:px-3 lg:px-4 py-1 md:py-2 rounded-lg text-xs md:text-sm font-medium transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl border">
                                    <i class="fas fa-history mr-1 md:mr-2"></i>
                                    <span class="hidden lg:inline">Log İzleme</span>
                                    <span class="lg:hidden">📝</span>
                                </a>
                                
                                <!-- Management Quick Actions -->
                                {% if user.can_manage_users %}
                                <a href="{% url 'users:user_permissions' %}" class="quick-action-btn {% if request.resolver_match.url_name == 'user_permissions' %}bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 border-purple-400/50{% else %}bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 border-red-400/30{% endif %} text-white px-2 md:px-3 lg:px-4 py-1 md:py-2 rounded-lg text-xs md:text-sm font-medium transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl border">
                                    <i class="fas fa-user-shield mr-1 md:mr-2"></i>
                                    <span class="hidden xl:inline">Yetki Yönetimi</span>
                                    <span class="xl:hidden">🛡️</span>
                                </a>
                                {% endif %}
                                
                                {% if user.is_admin %}
                                <a href="{% url 'dashboard:admin_panel' %}" class="quick-action-btn {% if request.resolver_match.url_name == 'admin_panel' %}bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 border-purple-400/50{% else %}bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 border-purple-400/30{% endif %} text-white px-2 md:px-3 lg:px-4 py-1 md:py-2 rounded-lg text-xs md:text-sm font-medium transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl border">
                                    <i class="fas fa-cogs mr-1 md:mr-2"></i>
                                    <span class="hidden xl:inline">Yönetim Paneli</span>
                                    <span class="xl:hidden">⚙️</span>
                                </a>
                                {% endif %}
                            {% endif %}
                        </div>
                    </div>

                    <!-- User Menu and Theme Switcher -->
                    <div class="flex items-center space-x-4">
                        <!-- User Menu -->
                        {% if user.is_authenticated %}
                        <div class="relative group">
                            <button class="flex items-center space-x-3 text-white hover:text-blue-300 transition-colors p-2 rounded-lg hover:bg-blue-500/20">
                                <div class="w-10 h-10 rounded-full overflow-hidden border-2 border-blue-500/50">
                                    {% if user.profile_image %}
                                        <img src="{{ user.profile_image.url }}" alt="Profil Resmi" class="w-full h-full object-cover">
                                    {% else %}
                                        <div class="w-full h-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center">
                                            <i class="fas fa-user text-white"></i>
                                        </div>
                                    {% endif %}
                                </div>
                                <div class="text-left">
                                    <div class="text-sm font-medium">{{ user.get_full_name|default:user.username }}</div>
                                    <div class="text-xs text-blue-300">{{ user.get_role_display }}</div>
                                </div>
                                <i class="fas fa-chevron-down text-sm text-blue-300"></i>
                            </button>
                            
                            <!-- Dropdown Menu -->
                            <div class="absolute right-0 mt-2 w-56 bg-slate-600 border border-slate-500/30 rounded-xl shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
                                <div class="py-3">
                                    <a href="{% url 'users:profile' %}" class="flex items-center px-4 py-3 text-slate-200 hover:bg-slate-500 hover:text-white transition-colors">
                                        <i class="fas fa-user mr-3 text-blue-400"></i>Profil
                                    </a>
                                    <a href="{% url 'users:change_password' %}" class="flex items-center px-4 py-3 text-slate-200 hover:bg-slate-500 hover:text-white transition-colors">
                                        <i class="fas fa-lock mr-3 text-yellow-400"></i>Şifre Değiştir
                                    </a>
                                    {% if user.can_manage_users %}
                                    <a href="{% url 'users:quick_actions' %}" class="flex items-center px-4 py-3 text-slate-200 hover:bg-slate-500 hover:text-white transition-colors">
                                        <i class="fas fa-bolt mr-3 text-pink-400"></i>Hızlı İşlemler
                                    </a>
                                    {% endif %}
                                    <div class="border-t border-slate-500/30 my-2"></div>
                                    <a href="{% url 'users:logout' %}" class="flex items-center px-4 py-3 text-red-400 hover:bg-red-500/20 hover:text-red-300 transition-colors">
                                        <i class="fas fa-sign-out-alt mr-3"></i>Çıkış Yap
                                    </a>
                                </div>
                            </div>
                        </div>
                        {% endif %}


                    </div>
                </div>
            </header>
            
            <!-- Page Content -->
            <main class="p-2 lg:p-3 bg-slate-800 min-h-screen">
                {% if messages %}
                    <div class="mb-6">
                        {% for message in messages %}
                            <div class="p-4 rounded-lg mb-3 {% if message.tags == 'error' %}bg-red-900 border border-red-500 text-red-200{% elif message.tags == 'warning' %}bg-yellow-900 border border-yellow-500 text-yellow-200{% elif message.tags == 'success' %}bg-green-900 border border-green-500 text-green-200{% else %}bg-blue-900 border border-blue-500 text-blue-200{% endif %} cyber-border">
                                <div class="flex items-center">
                                    <i class="fas {% if message.tags == 'error' %}fa-exclamation-circle text-red-400{% elif message.tags == 'warning' %}fa-exclamation-triangle text-yellow-400{% elif message.tags == 'success' %}fa-check-circle text-green-400{% else %}fa-info-circle text-blue-400{% endif %} mr-3"></i>
                                    <span>{{ message }}</span>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                {% endif %}
                
                {% block content %}{% endblock %}
            </main>
        </div>
        
        <!-- Mobile Sidebar Overlay -->
        <div id="sidebar-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden" onclick="toggleSidebar()"></div>
        
    {% else %}
        <!-- Login/Register Content -->
        <main>
            {% if messages %}
                <div class="fixed top-4 right-4 z-50 max-w-sm">
                    {% for message in messages %}
                        <div class="alert alert-{{ message.tags }} mb-2">
                            <div class="flex items-center">
                                {% if message.tags == 'success' %}
                                    <i class="fas fa-check-circle mr-2"></i>
                                {% elif message.tags == 'error' %}
                                    <i class="fas fa-exclamation-circle mr-2"></i>
                                {% elif message.tags == 'warning' %}
                                    <i class="fas fa-exclamation-triangle mr-2"></i>
                                {% else %}
                                    <i class="fas fa-info-circle mr-2"></i>
                                {% endif %}
                                {{ message }}
                            </div>
                        </div>
                    {% endfor %}
                </div>
            {% endif %}
            
            {% block auth_content %}{% endblock %}
        </main>
    {% endif %}
    
    <!-- JavaScript -->
    <script>
        // Responsive Sidebar toggle
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebar-overlay');
            
            if (window.innerWidth < 1024) {
                if (sidebar.classList.contains('show')) {
                    sidebar.classList.remove('show');
                    overlay.classList.remove('show');
                } else {
                    sidebar.classList.add('show');
                    overlay.classList.add('show');
                }
            }
        }
        
        // Desktop'ta sidebar'ı sürekli geniş tut
        function initializeSidebar() {
            const sidebar = document.getElementById('sidebar');
            const mainContent = document.querySelector('.main-content');
            
            if (window.innerWidth >= 1024) {
                // Sidebar'ı sürekli açık tut
                sidebar.style.width = '18rem';
                sidebar.style.minWidth = '18rem';
                sidebar.style.maxWidth = '18rem';
                sidebar.style.transform = 'translateX(0)';
                sidebar.style.transition = 'none';
                sidebar.style.position = 'fixed';
                sidebar.style.left = '0';
                sidebar.style.top = '0';
                sidebar.style.bottom = '0';
                sidebar.style.zIndex = '50';
                
                // Main content'i sidebar'a göre konumlandır
                mainContent.style.marginLeft = '18rem';
                mainContent.style.transition = 'none';
                
                // Tüm menü metinlerini görünür yap
                const navTexts = sidebar.querySelectorAll('.nav-text');
                navTexts.forEach(text => {
                    text.style.display = 'inline-block';
                    text.style.visibility = 'visible';
                    text.style.opacity = '1';
                    text.style.width = 'auto';
                    text.style.height = 'auto';
                    text.style.overflow = 'visible';
                    text.style.position = 'static';
                    text.style.left = 'auto';
                    text.style.transform = 'none';
                    text.style.pointerEvents = 'auto';
                });
            }
        }
        
        // Sayfa yüklendiğinde sidebar'ı başlat
        document.addEventListener('DOMContentLoaded', function() {
            initializeSidebar();
            
            // Her 100ms'de sidebar'ı kontrol et
            setInterval(function() {
                if (window.innerWidth >= 1024) {
                    initializeSidebar();
                }
            }, 100);
        });
        
        // Pencere boyutu değiştiğinde sidebar'ı güncelle
        window.addEventListener('resize', function() {
            initializeSidebar();
        });
        
        // Mouse move event'inde sidebar'ı kontrol et
        document.addEventListener('mousemove', function() {
            if (window.innerWidth >= 1024) {
                initializeSidebar();
            }
        });
        
        // Sidebar'ın kapanmasını engelle
        function preventSidebarClose() {
            const sidebar = document.getElementById('sidebar');
            if (window.innerWidth >= 1024) {
                sidebar.style.transform = 'translateX(0)';
                sidebar.style.width = '18rem';
            }
        }
        
        // Mouse leave event'ini engelle
        document.addEventListener('mouseleave', function(e) {
            if (e.target.id === 'sidebar' && window.innerWidth >= 1024) {
                preventSidebarClose();
            }
        });
        
        // Close sidebar when clicking outside on mobile
        document.addEventListener('click', function(event) {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebar-overlay');
            
            if (window.innerWidth < 1024 && 
                !sidebar.contains(event.target) && 
                !event.target.closest('[onclick*="toggleSidebar"]') &&
                !event.target.closest('.sidebar-toggle')) {
                sidebar.classList.remove('show');
                overlay.classList.remove('show');
            }
        });
        
        // Current time display
        function updateTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('tr-TR', {
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            });
            const timeElement = document.getElementById('current-time');
            if (timeElement) {
                timeElement.textContent = timeString;
            }
        }
        
        // Tema değiştirme fonksiyonu
        function setTheme(themeName) {
            const root = document.documentElement;
            const themes = {
                light: {
                    '--primary-bg': '#ffffff',
                    '--secondary-bg': '#f8fafc',
                    '--text-primary': '#1e293b',
                    '--text-secondary': '#64748b',
                    '--accent-color': '#06b6d4',
                    '--border-color': '#e2e8f0',
                    '--card-bg': '#ffffff',
                    '--sidebar-bg': '#1e293b'
                },
                cyber: {
                    '--primary-bg': '#0f172a',
                    '--secondary-bg': '#1e293b',
                    '--text-primary': '#e2e8f0',
                    '--text-secondary': '#94a3b8',
                    '--accent-color': '#06b6d4',
                    '--border-color': '#334155',
                    '--card-bg': '#1e293b',
                    '--sidebar-bg': '#0f172a'
                },
                dark: {
                    '--primary-bg': '#111827',
                    '--secondary-bg': '#1f2937',
                    '--text-primary': '#f9fafb',
                    '--text-secondary': '#d1d5db',
                    '--accent-color': '#3b82f6',
                    '--border-color': '#374151',
                    '--card-bg': '#1f2937',
                    '--sidebar-bg': '#111827'
                },
                purple: {
                    '--primary-bg': '#1a1a2e',
                    '--secondary-bg': '#16213e',
                    '--text-primary': '#e2e8f0',
                    '--text-secondary': '#94a3b8',
                    '--accent-color': '#a855f7',
                    '--border-color': '#4c1d95',
                    '--card-bg': '#16213e',
                    '--sidebar-bg': '#1a1a2e'
                },
                green: {
                    '--primary-bg': '#064e3b',
                    '--secondary-bg': '#065f46',
                    '--text-primary': '#ecfdf5',
                    '--text-secondary': '#a7f3d0',
                    '--accent-color': '#10b981',
                    '--border-color': '#047857',
                    '--card-bg': '#065f46',
                    '--sidebar-bg': '#064e3b'
                },
                orange: {
                    '--primary-bg': '#451a03',
                    '--secondary-bg': '#7c2d12',
                    '--text-primary': '#fffbeb',
                    '--text-secondary': '#fed7aa',
                    '--accent-color': '#f59e0b',
                    '--border-color': '#d97706',
                    '--card-bg': '#7c2d12',
                    '--sidebar-bg': '#451a03'
                },
                pink: {
                    '--primary-bg': '#500724',
                    '--secondary-bg': '#831843',
                    '--text-primary': '#fdf2f8',
                    '--text-secondary': '#fce7f3',
                    '--accent-color': '#ec4899',
                    '--border-color': '#be185d',
                    '--card-bg': '#831843',
                    '--sidebar-bg': '#500724'
                },
                red: {
                    '--primary-bg': '#450a0a',
                    '--secondary-bg': '#7f1d1d',
                    '--text-primary': '#fef2f2',
                    '--text-secondary': '#fecaca',
                    '--accent-color': '#ef4444',
                    '--border-color': '#dc2626',
                    '--card-bg': '#7f1d1d',
                    '--sidebar-bg': '#450a0a'
                }
            };
            
            const selectedTheme = themes[themeName];
            if (selectedTheme) {
                Object.keys(selectedTheme).forEach(property => {
                    root.style.setProperty(property, selectedTheme[property]);
                });
                localStorage.setItem('selectedTheme', themeName);
                

            }
        }
        

        
                // Sidebar Toggle Function - Sürekli Açık Sidebar için
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebar-overlay');

            if (window.innerWidth < 1024) {
                // Mobile'da toggle
                if (sidebar.style.transform === 'translateX(0px)' || sidebar.style.transform === '') {
                    sidebar.style.transform = 'translateX(-100%)';
                    if (overlay) overlay.classList.remove('show');
                } else {
                    sidebar.style.transform = 'translateX(0px)';
                    if (overlay) overlay.classList.add('show');
                }
            }
        }
        
        // Close sidebar when clicking overlay - Sürekli Açık Sidebar için
        document.addEventListener('click', function(e) {
            if (e.target.id === 'sidebar-overlay') {
                const sidebar = document.getElementById('sidebar');
                if (window.innerWidth < 1024) {
                    sidebar.style.transform = 'translateX(-100%)';
                    e.target.classList.remove('show');
                }
            }
        });
        
        // Close sidebar on escape key - Sürekli Açık Sidebar için
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                const sidebar = document.getElementById('sidebar');
                if (window.innerWidth < 1024 && sidebar.style.transform === 'translateX(0px)') {
                    sidebar.style.transform = 'translateX(-100%)';
                    const overlay = document.getElementById('sidebar-overlay');
                    if (overlay) overlay.classList.remove('show');
                }
            }
        });
        
        // Load saved theme on page load
        document.addEventListener('DOMContentLoaded', function() {
            const savedTheme = localStorage.getItem('selectedTheme') || 'default';
            setTheme(savedTheme);
            
                            // Initialize sidebar functionality - Sürekli Açık
                const sidebar = document.getElementById('sidebar');
                if (sidebar) {
                    // Sidebar sürekli açık, hover efektleri yok
                    console.log('Sidebar initialized - always open');
                    
                    // Mobile için toggle fonksiyonu
                    if (window.innerWidth < 1024) {
                        sidebar.style.transform = 'translateX(-100%)';
                    }
                }
        });
        
        // Auto-hide messages after 5 seconds
        setTimeout(function() {
            const messages = document.querySelectorAll('.alert');
            messages.forEach(function(message) {
                message.style.opacity = '0';
                setTimeout(function() {
                    message.remove();
                }, 300);
            });
        }, 5000);
        
        // Chart.js global configuration
        Chart.defaults.font.family = 'Inter, system-ui, sans-serif';
        Chart.defaults.color = '#6B7280';
        Chart.defaults.plugins.legend.labels.usePointStyle = true;
        Chart.defaults.plugins.legend.labels.padding = 20;
    </script>
    
    {% block extra_js %}{% endblock %}
</body>
</html>
