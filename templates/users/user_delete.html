{% extends 'layout/base.html' %}

{% block title %}Kullanıcı Sil - Cihaz Takip Sistemi{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <div class="space-y-6">
        <!-- Page Header -->
        <div class="bg-slate-800 border border-slate-600 rounded-xl shadow-xl p-6">
            <div class="text-center">
                <div class="w-20 h-20 mx-auto mb-4 rounded-full overflow-hidden border-4 border-red-500">
                    {% if user.profile_image %}
                        <img src="{{ user.profile_image.url }}" alt="Profil Resmi" class="w-full h-full object-cover">
                    {% else %}
                        <div class="w-full h-full bg-gradient-to-r from-red-500 to-pink-500 flex items-center justify-center">
                            <span class="text-white font-bold text-2xl">{{ user.first_name|first }}{{ user.last_name|first }}</span>
                        </div>
                    {% endif %}
                </div>
                
                <h1 class="text-3xl font-bold text-white mb-2">
                    <i class="fas fa-exclamation-triangle mr-3 text-red-400"></i>
                    Kullanıcı Silme Onayı
                </h1>
                <p class="text-red-400 text-lg">Bu işlem geri alınamaz!</p>
            </div>
        </div>

        <!-- Warning Card -->
        <div class="bg-slate-800 border border-red-500 rounded-xl shadow-xl p-6">
            <div class="text-center space-y-4">
                <div class="w-16 h-16 mx-auto bg-red-900 rounded-full flex items-center justify-center">
                    <i class="fas fa-user-times text-red-400 text-2xl"></i>
                </div>
                
                <h2 class="text-2xl font-bold text-white">
                    {{ user.get_full_name }} kullanıcısını silmek istediğinizden emin misiniz?
                </h2>
                
                <div class="bg-red-900 border border-red-500 rounded-lg p-4 text-left">
                    <h3 class="text-lg font-semibold text-red-300 mb-3">Silinecek Bilgiler:</h3>
                    <ul class="space-y-2 text-red-200">
                        <li class="flex items-center">
                            <i class="fas fa-user mr-2"></i>
                            <strong>Kullanıcı Adı:</strong> {{ user.username }}
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-id-card mr-2"></i>
                            <strong>TC Kimlik:</strong> {{ user.tc_kimlik }}
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-envelope mr-2"></i>
                            <strong>E-posta:</strong> {{ user.email }}
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-phone mr-2"></i>
                            <strong>Telefon:</strong> {{ user.phone|default:"Belirtilmemiş" }}
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-shield-alt mr-2"></i>
                            <strong>Rol:</strong> {{ user.get_role_display }}
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-calendar mr-2"></i>
                            <strong>Kayıt Tarihi:</strong> {{ user.date_joined|date:"d.m.Y H:i" }}
                        </li>
                    </ul>
                </div>
                
                <div class="bg-yellow-900 border border-yellow-500 rounded-lg p-4">
                    <h3 class="text-lg font-semibold text-yellow-300 mb-2">
                        <i class="fas fa-exclamation-triangle mr-2"></i>
                        Dikkat!
                    </h3>
                    <ul class="text-yellow-200 space-y-1">
                        <li>• Bu kullanıcıya ait tüm cihazlar silinecek</li>
                        <li>• Tüm aktivite logları kalıcı olarak silinecek</li>
                        <li>• Bu işlem geri alınamaz</li>
                        <li>• Kendi hesabınızı silemezsiniz</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="bg-slate-800 border border-slate-600 rounded-xl shadow-xl p-6">
            <div class="flex justify-center space-x-4">
                <a href="{% url 'users:user_list' %}" class="bg-slate-600 hover:bg-slate-500 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 flex items-center">
                    <i class="fas fa-times mr-2"></i>
                    İptal Et
                </a>
                
                <form method="post" class="inline">
                    {% csrf_token %}
                    <button type="submit" class="bg-red-600 hover:bg-red-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 flex items-center" onclick="return confirm('Bu kullanıcıyı silmek istediğinizden emin misiniz? Bu işlem geri alınamaz!')">
                        <i class="fas fa-trash mr-2"></i>
                        Kullanıcıyı Sil
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
