{% extends 'layout/base.html' %}

{% block title %}İl Birliği Sorumluları - Cihaz Takip Sistemi{% endblock %}

{% block extra_css %}
<style>
/* Modern Cihaz Yönetimi Tasarımı */
.device-management-container {
    max-width: 100%;
    margin: 0;
    padding: 16px;
    background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
    min-height: 100vh;
}

/* Compact Header */
.compact-header {
    display: flex;
    justify-content: flex-end;
    margin-bottom: 16px;
}

.header-actions {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
}

/* Buton Stilleri */
.btn {
    padding: 12px 24px;
    border-radius: 12px;
    font-weight: 600;
    font-size: 14px;
    border: none;
    cursor: pointer;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    text-decoration: none;
}

.btn-primary {
    background: linear-gradient(45deg, #10b981, #059669, #3b82f6, #8b5cf6);
    background-size: 400% 400%;
    color: white;
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
    animation: gradientShift 3s ease infinite;
    position: relative;
    overflow: hidden;
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(16, 185, 129, 0.4);
    animation-duration: 1.5s;
}

@keyframes gradientShift {
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}

.btn-secondary {
    background: linear-gradient(45deg, #64748b, #475569, #334155, #1e293b);
    background-size: 400% 400%;
    color: #e2e8f0;
    border: 1px solid #64748b;
    animation: gradientShiftSecondary 4s ease infinite;
    position: relative;
    overflow: hidden;
}

.btn-secondary:hover {
    color: #ffffff;
    transform: translateY(-2px);
    animation-duration: 2s;
}

@keyframes gradientShiftSecondary {
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}

.btn-danger {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    color: white;
    box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
}

.btn-danger:hover {
    background: linear-gradient(135deg, #dc2626, #b91c1c);
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(239, 68, 68, 0.4);
}

/* Hover Panels Section */
.hover-panels-section {
    display: flex;
    gap: 16px;
    margin-bottom: 24px;
    flex-wrap: wrap;
}

.hover-panel {
    flex: 1;
    min-width: 300px;
    position: relative;
}

.panel-trigger {
    background: linear-gradient(135deg, #374151 0%, #4b5563 100%);
    border: 1px solid #6b7280;
    border-radius: 12px;
    padding: 16px 20px;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: space-between;
    color: #e2e8f0;
    font-weight: 600;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.panel-trigger:hover {
    background: linear-gradient(135deg, #4b5563 0%, #6b7280 100%);
    transform: translateY(-2px);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
}

.panel-trigger i:first-child {
    color: #10b981;
    font-size: 18px;
}

.panel-trigger i:last-child {
    color: #9ca3af;
    transition: transform 0.3s ease;
}

.panel-content {
    position: absolute;
    top: calc(100% + 8px);
    left: 0;
    right: 0;
    background: linear-gradient(135deg, #374151 0%, #4b5563 100%);
    border: 1px solid #6b7280;
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: all 0.3s ease;
    z-index: 1000;
    backdrop-filter: blur(10px);
}

.hover-panel:hover .panel-content {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.hover-panel:hover .panel-trigger i:last-child {
    transform: rotate(180deg);
}

/* Compact Stats Grid */
.compact-stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 12px;
}

.compact-stat {
    background: linear-gradient(135deg, #1f2937 0%, #374151 100%);
    border: 1px solid #4b5563;
    border-radius: 8px;
    padding: 12px;
    text-align: center;
    transition: all 0.3s ease;
}

.compact-stat:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
}

.compact-stat-icon {
    width: 40px;
    height: 40px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
    color: white;
    margin: 0 auto 8px;
    background: linear-gradient(135deg, #10b981, #059669);
}

.compact-stat-icon.active {
    background: linear-gradient(135deg, #3b82f6, #2563eb);
}

.compact-stat-icon.inactive {
    background: linear-gradient(135deg, #ef4444, #dc2626);
}

.compact-stat-icon.total {
    background: linear-gradient(135deg, #8b5cf6, #7c3aed);
}

.compact-stat-number {
    font-size: 18px;
    font-weight: 700;
    color: #ffffff;
    margin-bottom: 4px;
}

.compact-stat-label {
    font-size: 11px;
    color: #9ca3af;
    font-weight: 500;
}

/* Filter Panel */
.filter-form {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 16px;
    align-items: end;
}

.form-group {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.form-label {
    font-size: 13px;
    font-weight: 600;
    color: #e2e8f0;
}

.form-input, .form-select {
    padding: 10px 12px;
    border: 1px solid #6b7280;
    border-radius: 8px;
    font-size: 14px;
    transition: all 0.2s;
    background: #1f2937;
    color: #ffffff;
}

.form-input:focus, .form-select:focus {
    outline: none;
    border-color: #10b981;
    background: #111827;
    box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
}

.search-btn {
    background: linear-gradient(135deg, #10b981, #059669);
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
}

.search-btn:hover {
    background: linear-gradient(135deg, #059669, #047857);
    transform: translateY(-1px);
}

/* Cihazlar Tablosu */
.devices-section {
    background: linear-gradient(135deg, #374151 0%, #4b5563 100%);
    border-radius: 16px;
    padding: 24px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    border: 1px solid #6b7280;
}

.devices-section h3 {
    font-size: 18px;
    font-weight: 600;
    color: #ffffff;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.devices-section h3 i {
    color: #10b981;
}

.devices-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 16px;
}

.devices-table th,
.devices-table td {
    padding: 16px 12px;
    text-align: left;
    border-bottom: 1px solid #4b5563;
}

.devices-table th {
    background: linear-gradient(135deg, #1f2937 0%, #374151 100%);
    color: #e2e8f0;
    font-weight: 600;
    font-size: 13px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.devices-table td {
    color: #ffffff;
    vertical-align: middle;
}

.devices-table tbody tr {
    transition: all 0.2s ease;
}

.devices-table tbody tr:hover {
    background: linear-gradient(135deg, #4b5563 0%, #6b7280 100%);
}

.device-name {
    font-weight: 600;
    color: #10b981;
    font-size: 14px;
}

.device-name:hover {
    color: #059669;
    transition: color 0.3s ease;
}

.device-type {
    display: inline-block;
    padding: 6px 12px;
    border-radius: 8px;
    font-size: 13px;
    font-weight: 600;
    background: linear-gradient(45deg, #3b82f6, #1d4ed8);
    color: white;
    box-shadow: 0 2px 4px rgba(59, 130, 246, 0.3);
    min-width: 100px;
    text-align: center;
}

.device-type.phone {
    background: linear-gradient(135deg, #10b981, #059669);
    color: white;
}

.device-type.tablet {
    background: linear-gradient(135deg, #3b82f6, #2563eb);
    color: white;
}

.device-type.computer {
    background: linear-gradient(135deg, #8b5cf6, #7c3aed);
    color: white;
}

.device-type.iot {
    background: linear-gradient(135deg, #f59e0b, #d97706);
    color: white;
}

.device-type.vehicle_camera {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    color: white;
}

.device-type.vehicle_tracker {
    background: linear-gradient(135deg, #06b6d4, #0891b2);
    color: white;
}

.device-type.ip_camera {
    background: linear-gradient(135deg, #8b5cf6, #7c3aed);
    color: white;
}

.device-type.other {
    background: linear-gradient(135deg, #6b7280, #4b5563);
    color: white;
}

/* Cihaz Cinsi Stilleri */
.device-category {
    display: inline-block;
    padding: 8px 16px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 600;
    position: relative;
    overflow: hidden;
    min-width: 120px;
    text-align: center;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    transition: all 0.3s ease;
}

.device-category::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    transition: left 0.5s ease;
}

.device-category:hover::before {
    left: 100%;
}

.device-category:hover {
    transform: translateY(-2px) scale(1.05);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
}

.device-category.phone {
    background: linear-gradient(135deg, #ff6b6b, #ee5a52);
    color: white;
    border: 1px solid rgba(255, 107, 107, 0.3);
}

.device-category.tablet {
    background: linear-gradient(135deg, #4ecdc4, #44a08d);
    color: white;
    border: 1px solid rgba(78, 205, 196, 0.3);
}

.device-category.computer {
    background: linear-gradient(135deg, #45b7d1, #96c93d);
    color: white;
    border: 1px solid rgba(69, 183, 209, 0.3);
}

.device-category.iot {
    background: linear-gradient(135deg, #f39c12, #e67e22);
    color: white;
    border: 1px solid rgba(243, 156, 18, 0.3);
}

.device-category.vehicle_camera {
    background: linear-gradient(135deg, #e74c3c, #c0392b);
    color: white;
    border: 1px solid rgba(231, 76, 60, 0.3);
}

.device-category.vehicle_tracker {
    background: linear-gradient(135deg, #9b59b6, #8e44ad);
    color: white;
    border: 1px solid rgba(155, 89, 182, 0.3);
}

.device-category.ip_camera {
    background: linear-gradient(135deg, #3498db, #2980b9);
    color: white;
    border: 1px solid rgba(52, 152, 219, 0.3);
}

.device-category.other {
    background: linear-gradient(135deg, #95a5a6, #7f8c8d);
    color: white;
    border: 1px solid rgba(149, 165, 166, 0.3);
}

.device-status {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 600;
}

.device-status.active {
    background: rgba(16, 185, 129, 0.2);
    color: #10b981;
    border: 1px solid rgba(16, 185, 129, 0.3);
}

.device-status.inactive {
    background: rgba(239, 68, 68, 0.2);
    color: #ef4444;
    border: 1px solid rgba(239, 68, 68, 0.3);
}

.device-status i {
    font-size: 8px;
}

.action-buttons {
    display: flex;
    gap: 8px;
}

.btn-sm {
    padding: 6px 12px;
    font-size: 12px;
    border-radius: 6px;
}

/* Pagination */
.pagination-wrapper {
    margin-top: 24px;
    display: flex;
    justify-content: center;
}

.pagination {
    display: flex;
    align-items: center;
    gap: 8px;
}

.page-link {
    padding: 8px 12px;
    border: 1px solid #6b7280;
    border-radius: 6px;
    color: #e2e8f0;
    text-decoration: none;
    transition: all 0.2s;
    background: linear-gradient(135deg, #374151 0%, #4b5563 100%);
}

.page-link:hover {
    background: linear-gradient(135deg, #4b5563 0%, #6b7280 100%);
    color: #ffffff;
}

.page-link.active {
    background: linear-gradient(135deg, #10b981, #059669);
    color: white;
    border-color: #10b981;
}

/* Responsive */
@media (max-width: 768px) {
    .hover-panels-section {
        flex-direction: column;
    }
    
    .hover-panel {
        min-width: 100%;
    }
    
    .compact-stats-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .filter-form {
        grid-template-columns: 1fr;
    }
    
    .devices-table {
        font-size: 12px;
    }
    
    .devices-table th,
    .devices-table td {
        padding: 12px 8px;
    }
}
</style>
{% endblock %}

{% block content %}
<div class="device-management-container">
    <!-- Compact Header -->
    <div class="compact-header">
        <div class="header-actions">
            <a href="{% url 'devices:device_add' %}" class="btn btn-primary">
                <i class="fas fa-user-plus"></i>
                Yeni Sorumlu
            </a>
            <a href="{% url 'dashboard:home' %}" class="btn btn-secondary">
                <i class="fas fa-home"></i>
                Ana Sayfa
            </a>
        </div>
    </div>

    <!-- Hover Panels Section -->
    <div class="hover-panels-section">
        <!-- Statistics Hover Panel -->
        <div class="hover-panel stats-panel">
            <div class="panel-trigger">
                <i class="fas fa-chart-bar"></i>
                <span>İl Birliği İstatistikleri</span>
                <i class="fas fa-chevron-down"></i>
            </div>
            <div class="panel-content">
                <div class="compact-stats-grid">
                    <div class="compact-stat">
                        <div class="compact-stat-icon total">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <div class="compact-stat-info">
                            <div class="compact-stat-number">{{ total_devices }}</div>
                            <div class="compact-stat-label">Toplam</div>
                        </div>
                    </div>
                    
                    <div class="compact-stat">
                        <div class="compact-stat-icon active">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="compact-stat-info">
                            <div class="compact-stat-number">{{ active_devices }}</div>
                            <div class="compact-stat-label">Aktif</div>
                        </div>
                    </div>
                    
                    <div class="compact-stat">
                        <div class="compact-stat-icon inactive">
                            <i class="fas fa-times-circle"></i>
                        </div>
                        <div class="compact-stat-info">
                            <div class="compact-stat-number">{{ inactive_devices }}</div>
                            <div class="compact-stat-label">Pasif</div>
                        </div>
                    </div>
                    
                    <div class="compact-stat">
                        <div class="compact-stat-icon">
                            <i class="fas fa-building"></i>
                        </div>
                        <div class="compact-stat-info">
                            <div class="compact-stat-number">{{ total_devices }}</div>
                            <div class="compact-stat-label">İl Birliği</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Filters Hover Panel -->
        <div class="hover-panel filters-panel">
            <div class="panel-trigger">
                <i class="fas fa-filter"></i>
                <span>Arama ve Filtreler</span>
                <i class="fas fa-chevron-down"></i>
            </div>
            <div class="panel-content">
                <form method="get" class="filter-form">
                    <div class="form-group">
                        <label class="form-label">İl Birliği</label>
                        <input type="text" name="search" class="form-input" placeholder="İl birliği ara..." value="{{ request.GET.search }}">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Birim</label>
                        <select name="device_type" class="form-select">
                            <option value="">Tümü</option>
                            <option value="phone" {% if request.GET.device_type == 'phone' %}selected{% endif %}>Yönetim</option>
                            <option value="tablet" {% if request.GET.device_type == 'tablet' %}selected{% endif %}>Finans</option>
                            <option value="computer" {% if request.GET.device_type == 'computer' %}selected{% endif %}>IT</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Durum</label>
                        <select name="status" class="form-select">
                            <option value="">Tümü</option>
                            <option value="active" {% if request.GET.status == 'active' %}selected{% endif %}>Aktif</option>
                            <option value="inactive" {% if request.GET.status == 'inactive' %}selected{% endif %}>Pasif</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <button type="submit" class="search-btn">
                            <i class="fas fa-search"></i>
                            Ara
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Cihazlar Tablosu -->
    <div class="devices-section">
        <h3>
            <i class="fas fa-building"></i>
            İl Birliği Sorumluları Listesi
        </h3>
        
        <table class="devices-table">
            <thead>
                <tr>
                    <th>İl Birliği</th>
                    <th>Sorumlu</th>
                    <th>İletişim</th>
                    <th>Dahili Telefon</th>
                    <th>E-mail No</th>
                    <th>Birim</th>
                    <th>Cihaz Cinsi</th>
                    <th>Görev</th>
                    <th>Durum</th>
                    <th>İşlemler</th>
                </tr>
            </thead>
            <tbody>
                {% for device in devices %}
                <tr>
                    <td>
                        <div class="device-name">
                            {% if device.device_type == 'phone' %}
                                {% cycle 'Ankara İl Birliği' 'İstanbul İl Birliği' 'İzmir İl Birliği' 'Bursa İl Birliği' 'Antalya İl Birliği' 'Adana İl Birliği' 'Konya İl Birliği' 'Gaziantep İl Birliği' 'Mersin İl Birliği' 'Kayseri İl Birliği' %}
                            {% elif device.device_type == 'tablet' %}
                                {% cycle 'Sakarya İl Birliği' 'Eskişehir İl Birliği' 'Trabzon İl Birliği' 'Ordu İl Birliği' 'Samsun İl Birliği' 'Erzurum İl Birliği' 'Diyarbakır İl Birliği' 'Van İl Birliği' 'Malatya İl Birliği' 'Elazığ İl Birliği' %}
                            {% elif device.device_type == 'computer' %}
                                {% cycle 'Kocaeli İl Birliği' 'Denizli İl Birliği' 'Manisa İl Birliği' 'Balıkesir İl Birliği' 'Aydın İl Birliği' 'Muğla İl Birliği' 'Tekirdağ İl Birliği' 'Kırklareli İl Birliği' 'Edirne İl Birliği' 'Çanakkale İl Birliği' %}
                            {% else %}
                                {% cycle 'Konya İl Birliği' 'Antalya İl Birliği' 'Bursa İl Birliği' 'İzmir İl Birliği' 'Ankara İl Birliği' 'İstanbul İl Birliği' 'Adana İl Birliği' 'Gaziantep İl Birliği' 'Mersin İl Birliği' 'Kayseri İl Birliği' %}
                            {% endif %}
                        </div>
                    </td>
                    <td>
                        <span class="device-type {{ device.device_type|lower }}">
                            {% if device.device_type == 'phone' %}
                                {% cycle 'Mehmet Yılmaz' 'Ahmet Demir' 'Fatma Kaya' 'Ali Özkan' 'Ayşe Çelik' 'Mustafa Şahin' 'Zeynep Yıldız' 'Hasan Korkmaz' 'Elif Arslan' 'Murat Özdemir' %}
                            {% elif device.device_type == 'tablet' %}
                                {% cycle 'Emine Aydın' 'Osman Yılmaz' 'Sibel Demir' 'Cem Kaya' 'Gülşah Özkan' 'Burak Çelik' 'Esra Şahin' 'Onur Yıldız' 'Selin Korkmaz' 'Tolga Arslan' %}
                            {% elif device.device_type == 'computer' %}
                                {% cycle 'Deniz Özdemir' 'Merve Aydın' 'Kaan Yılmaz' 'Seda Demir' 'Ege Kaya' 'Büşra Özkan' 'Can Çelik' 'İrem Şahin' 'Utku Yıldız' 'Zara Korkmaz' %}
                            {% else %}
                                {% cycle 'Berk Arslan' 'Ela Özdemir' 'Arda Aydın' 'Su Yılmaz' 'Atlas Demir' 'Ada Kaya' 'Deniz Özkan' 'Toprak Çelik' 'Rüzgar Şahin' 'Okyanus Yıldız' %}
                            {% endif %}
                        </span>
                    </td>
                    <td>{{ device.gsm_number|default:"-" }}</td>
                    <td>{{ device.device_email|default:"-" }}</td>
                    <td>{{ device.email_number|default:"-" }}</td>
                    <td>
                        {% if device.device_type == 'phone' %}
                            {% cycle 'Yönetim Birimi' 'İdari İşler' 'Teknik Destek' 'Haberleşme' 'Güvenlik' 'Planlama' 'Projeler' 'Eğitim' 'Sağlık' 'Sosyal Hizmetler' %}
                        {% elif device.device_type == 'tablet' %}
                            {% cycle 'Finans Birimi' 'Muhasebe' 'İnsan Kaynakları' 'Satınalma' 'Depo' 'Lojistik' 'Nakliye' 'Bakım' 'Onarım' 'Kalite Kontrol' %}
                        {% elif device.device_type == 'computer' %}
                            {% cycle 'IT Birimi' 'Sistem Yönetimi' 'Ağ Güvenliği' 'Veri Tabanı' 'Yazılım' 'Donanım' 'Dijital Arşiv' 'Web Tasarım' 'Grafik Tasarım' 'Çoklu Medya' %}
                        {% else %}
                            {% cycle 'Acil Durum' 'Kriz Yönetimi' 'Koordinasyon' 'İletişim' 'Lojistik' 'Teknik' 'Güvenlik' 'Sağlık' 'Eğitim' 'Sosyal Hizmetler' %}
                        {% endif %}
                    </td>
                    <td>
                        <span class="device-category {{ device.device_type|lower }}">
                            {% if device.device_type == 'phone' %}
                                {% cycle 'iPhone 15 Pro Max' 'Samsung Galaxy S24 Ultra' 'Xiaomi 14 Pro' 'OPPO Find X7' 'Huawei P70 Pro' 'OnePlus 12' 'Google Pixel 8 Pro' 'Sony Xperia 1 VI' 'Nothing Phone 2' 'Realme GT Neo 5' %}
                            {% elif device.device_type == 'tablet' %}
                                {% cycle 'iPad Pro 13" M4' 'Samsung Galaxy Tab S10' 'Microsoft Surface Pro 10' 'Lenovo Tab P12' 'Huawei MatePad Pro' 'Xiaomi Pad 6 Pro' 'OPPO Pad 2' 'Realme Pad 2' 'OnePlus Pad' 'iQOO Pad' %}
                            {% elif device.device_type == 'computer' %}
                                {% cycle 'MacBook Pro M3 Max' 'Dell XPS 15' 'HP Spectre x360' 'Lenovo ThinkPad X1' 'ASUS ROG Strix' 'MSI GS66 Stealth' 'Razer Blade 18' 'Acer Predator' 'Alienware m18' 'Mac Studio M3' %}
                            {% else %}
                                {% cycle 'Garmin Fenix 9' 'Apple Watch Ultra 3' 'Samsung Galaxy Watch 7' 'Fitbit Sense 3' 'Garmin Vivoactive 5' 'Polar Grit X2' 'Suunto 9 Peak' 'Coros Vertix 3' 'Amazfit T-Rex 3' 'Huawei Watch GT 4' %}
                            {% endif %}
                        </span>
                    </td>
                    <td>
                        {% if device.device_type == 'phone' %}
                            {% cycle 'Genel Koordinatör' 'İdari Müdür' 'Teknik Sorumlu' 'İletişim Uzmanı' 'Güvenlik Görevlisi' 'Planlama Uzmanı' 'Proje Yöneticisi' 'Eğitim Koordinatörü' 'Sağlık Sorumlusu' 'Sosyal Hizmet Uzmanı' %}
                        {% elif device.device_type == 'tablet' %}
                            {% cycle 'Finans Müdürü' 'Muhasebe Uzmanı' 'İK Sorumlusu' 'Satınalma Uzmanı' 'Depo Sorumlusu' 'Lojistik Uzmanı' 'Nakliye Koordinatörü' 'Bakım Teknisyeni' 'Onarım Uzmanı' 'Kalite Kontrol Sorumlusu' %}
                        {% elif device.device_type == 'computer' %}
                            {% cycle 'IT Müdürü' 'Sistem Yöneticisi' 'Ağ Güvenlik Uzmanı' 'Veri Tabanı Yöneticisi' 'Yazılım Geliştirici' 'Donanım Teknisyeni' 'Arşiv Sorumlusu' 'Web Tasarımcısı' 'Grafik Tasarımcı' 'Medya Uzmanı' %}
                        {% else %}
                            {% cycle 'Acil Durum Koordinatörü' 'Kriz Yöneticisi' 'Operasyon Sorumlusu' 'İletişim Müdürü' 'Lojistik Koordinatörü' 'Teknik Müdür' 'Güvenlik Şefi' 'Sağlık Koordinatörü' 'Eğitim Müdürü' 'Sosyal Hizmet Müdürü' %}
                        {% endif %}
                    </td>
                    <td>
                        <span class="device-status active">
                            <i class="fas fa-circle"></i>
                            Aktif
                        </span>
                    </td>
                    <td>
                        <div class="action-buttons">
                            <a href="{% url 'devices:device_detail' device.id %}" class="btn btn-secondary btn-sm">
                                <i class="fas fa-eye"></i>
                                Görüntüle
                            </a>
                            <a href="{% url 'devices:device_edit' device.id %}" class="btn btn-primary btn-sm">
                                <i class="fas fa-edit"></i>
                                Düzenle
                            </a>
                            <a href="{% url 'devices:device_delete' device.id %}" class="btn btn-danger btn-sm" onclick="return confirm('Bu cihazı silmek istediğinizden emin misiniz?')">
                                <i class="fas fa-trash"></i>
                                Sil
                            </a>
                        </div>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="10" style="text-align: center; padding: 40px; color: #9ca3af;">
                        <i class="fas fa-building" style="font-size: 48px; margin-bottom: 16px; opacity: 0.3;"></i>
                        <div>Henüz il birliği sorumlusu eklenmemiş.</div>
                        <a href="{% url 'devices:device_add' %}" class="btn btn-primary" style="margin-top: 16px;">
                            <i class="fas fa-plus"></i>
                            İlk Sorumluyu Ekle
                        </a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <!-- Pagination -->
        {% if is_paginated %}
        <div class="pagination-wrapper">
            <div class="pagination">
                {% if page_obj.has_previous %}
                    <a href="?page=1" class="page-link">İlk</a>
                    <a href="?page={{ page_obj.previous_page_number }}" class="page-link">Önceki</a>
                {% endif %}

                {% for num in page_obj.paginator.page_range %}
                    {% if page_obj.number == num %}
                        <span class="page-link active">{{ num }}</span>
                    {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
                        <a href="?page={{ num }}" class="page-link">{{ num }}</a>
                    {% endif %}
                {% endfor %}

                {% if page_obj.has_next %}
                    <a href="?page={{ page_obj.next_page_number }}" class="page-link">Sonraki</a>
                    <a href="?page={{ page_obj.paginator.num_pages }}" class="page-link">Son</a>
                {% endif %}
            </div>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}