{% extends 'layout/base.html' %}

{% block title %}Dashboard - Cihaz Takip Sistemi{% endblock %}

{% block content %}
<div class="dashboard-container">
    <!-- Hero Section -->
    <div class="hero-section">
        <div class="hero-content">
            <div class="hero-text">
                <h1 class="hero-title">
                    <span class="gradient-text">Cihaz Takip Sistemi</span>
                    <span class="hero-subtitle">Dashboard</span>
                </h1>
                <p class="hero-description">
                    Sistem genel durumu, istatistikler ve hızlı erişim
                </p>
                <div class="hero-stats">
                    <div class="stat-item">
                        <span class="stat-number">{{ total_devices|default:"0" }}</span>
                        <span class="stat-label">Toplam Cihaz</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">{{ total_users|default:"0" }}</span>
                        <span class="stat-label">Toplam Kullanıcı</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">{{ active_devices|default:"0" }}</span>
                        <span class="stat-label">Aktif Cihaz</span>
                    </div>
                </div>
            </div>
            <div class="hero-actions">
                <div class="quick-actions">
                    <a href="{% url 'devices:device_add' %}" class="action-btn primary">
                        <i class="fas fa-plus"></i>
                        <span>Yeni Cihaz</span>
                    </a>
                    <a href="{% url 'devices:device_list' %}" class="action-btn secondary">
                        <i class="fas fa-list"></i>
                        <span>Cihaz Listesi</span>
                    </a>
                    {% if is_admin %}
                    <a href="{% url 'users:user_list' %}" class="action-btn secondary">
                        <i class="fas fa-users"></i>
                        <span>Kullanıcılar</span>
                    </a>
                    {% endif %}
                </div>
            </div>
        </div>
        <div class="hero-visual">
            <div class="floating-cards">
                <div class="floating-card card-1">
                    <i class="fas fa-mobile-alt"></i>
                </div>
                <div class="floating-card card-2">
                    <i class="fas fa-laptop"></i>
                </div>
                <div class="floating-card card-3">
                    <i class="fas fa-tablet-alt"></i>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Dashboard Grid -->
    <div class="dashboard-grid">
        <!-- Statistics Cards Row -->
        <div class="stats-row">
            <div class="stat-card primary">
                <div class="stat-icon">
                    <i class="fas fa-mobile-alt"></i>
                </div>
                <div class="stat-content">
                    <h3 class="stat-title">Toplam Cihaz</h3>
                    <p class="stat-value">{{ total_devices|default:"0" }}</p>
                    <div class="stat-change positive">
                        <i class="fas fa-arrow-up"></i>
                        <span>+{{ active_devices|default:"0" }} aktif</span>
                    </div>
                </div>
            </div>

            <div class="stat-card success">
                <div class="stat-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <div class="stat-content">
                    <h3 class="stat-title">Aktif Cihaz</h3>
                    <p class="stat-value">{{ active_devices|default:"0" }}</p>
                    <div class="stat-change positive">
                        <i class="fas fa-arrow-up"></i>
                        <span>Çalışır durumda</span>
                    </div>
                </div>
            </div>

            <div class="stat-card warning">
                <div class="stat-icon">
                    <i class="fas fa-pause-circle"></i>
                </div>
                <div class="stat-content">
                    <h3 class="stat-title">Pasif Cihaz</h3>
                    <p class="stat-value">{{ inactive_devices|default:"0" }}</p>
                    <div class="stat-change neutral">
                        <i class="fas fa-minus"></i>
                        <span>Beklemede</span>
                    </div>
                </div>
            </div>

            {% if is_admin %}
            <div class="stat-card info">
                <div class="stat-icon">
                    <i class="fas fa-users"></i>
                </div>
                <div class="stat-content">
                    <h3 class="stat-title">Toplam Kullanıcı</h3>
                    <p class="stat-value">{{ total_users|default:"0" }}</p>
                    <div class="stat-change positive">
                        <i class="fas fa-arrow-up"></i>
                        <span>+{{ locked_accounts|default:"0" }} kilitli</span>
                    </div>
                </div>
            </div>

            <div class="stat-card purple">
                <div class="stat-icon">
                    <i class="fas fa-chart-line"></i>
                </div>
                <div class="stat-content">
                    <h3 class="stat-title">Ortalama/Cihaz</h3>
                    <p class="stat-value">{{ avg_devices_per_user|default:"0" }}</p>
                    <div class="stat-change neutral">
                        <i class="fas fa-chart-bar"></i>
                        <span>Kullanıcı başına</span>
                    </div>
                </div>
            </div>
            {% endif %}
        </div>

        <!-- Charts Section -->
        <div class="charts-section">
            <div class="chart-card">
                <div class="chart-header">
                    <h3 class="chart-title">
                        <i class="fas fa-chart-line"></i>
                        Son 7 Günlük Cihaz Kayıtları
                    </h3>
                    <div class="chart-actions">
                        <button class="chart-btn active" data-period="7">7 Gün</button>
                        <button class="chart-btn" data-period="30">30 Gün</button>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="deviceChart"></canvas>
                </div>
            </div>

            <div class="chart-card">
                <div class="chart-header">
                    <h3 class="chart-title">
                        <i class="fas fa-chart-pie"></i>
                        Cihaz Türü Dağılımı
                    </h3>
                    <div class="chart-legend">
                        {% for type, count in device_type_stats.items %}
                        <div class="legend-item">
                            <span class="legend-color" style="background-color: var(--chart-color-{{ forloop.counter }})"></span>
                            <span class="legend-label">{{ type }}</span>
                            <span class="legend-value">{{ count }}</span>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="deviceTypeChart"></canvas>
                </div>
            </div>
        </div>

        {% if is_admin %}
        <!-- Admin Charts Section -->
        <div class="charts-section">
            <div class="chart-card">
                <div class="chart-header">
                    <h3 class="chart-title">
                        <i class="fas fa-chart-area"></i>
                        Son 7 Günlük Kullanıcı Kayıtları
                    </h3>
                </div>
                <div class="chart-container">
                    <canvas id="userChart"></canvas>
                </div>
            </div>

            <div class="chart-card">
                <div class="chart-header">
                    <h3 class="chart-title">
                        <i class="fas fa-users-cog"></i>
                        Kullanıcı Rolü Dağılımı
                    </h3>
                </div>
                <div class="chart-container">
                    <canvas id="userRoleChart"></canvas>
                </div>
            </div>
        </div>
        {% endif %}

        <!-- Quick Actions Section -->
        <div class="quick-actions-section">
            <div class="section-header">
                <h3 class="section-title">
                    <i class="fas fa-bolt"></i>
                    Hızlı İşlemler
                </h3>
                <p class="section-subtitle">Sık kullanılan işlemlere hızlı erişim</p>
            </div>
            
            <div class="actions-grid">
                <a href="{% url 'devices:device_add' %}" class="action-card primary">
                    <div class="action-icon">
                        <i class="fas fa-plus"></i>
                    </div>
                    <h4 class="action-title">Yeni Cihaz Ekle</h4>
                    <p class="action-description">Sisteme yeni cihaz kaydı oluştur</p>
                </a>

                <a href="{% url 'devices:device_list' %}" class="action-card secondary">
                    <div class="action-icon">
                        <i class="fas fa-list"></i>
                    </div>
                    <h4 class="action-title">Cihaz Listesi</h4>
                    <p class="action-description">Tüm cihazları görüntüle ve yönet</p>
                </a>

                <a href="{% url 'dashboard:statistics' %}" class="action-card info">
                    <div class="action-icon">
                        <i class="fas fa-chart-bar"></i>
                    </div>
                    <h4 class="action-title">İstatistikler</h4>
                    <p class="action-description">Detaylı sistem istatistiklerini incele</p>
                </a>

                <a href="{% url 'dashboard:activity_log' %}" class="action-card warning">
                    <div class="action-icon">
                        <i class="fas fa-history"></i>
                    </div>
                    <h4 class="action-title">Aktivite Logları</h4>
                    <p class="action-description">Sistem aktivitelerini takip et</p>
                </a>

                {% if is_admin %}
                <a href="{% url 'users:user_list' %}" class="action-card purple">
                    <div class="action-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h4 class="action-title">Kullanıcı Yönetimi</h4>
                    <p class="action-description">Kullanıcıları yönet ve yetkileri düzenle</p>
                </a>

                <a href="{% url 'dashboard:admin_panel' %}" class="action-card danger">
                    <div class="action-icon">
                        <i class="fas fa-cogs"></i>
                    </div>
                    <h4 class="action-title">Yönetim Paneli</h4>
                    <p class="action-description">Sistem yönetimi ve konfigürasyon</p>
                </a>
                {% endif %}
            </div>
        </div>

        <!-- Recent Activities Section -->
        <div class="activities-section">
            <div class="section-header">
                <h3 class="section-title">
                    <i class="fas fa-history"></i>
                    Son Aktiviteler
                </h3>
                <a href="{% url 'dashboard:activity_log' %}" class="view-all-link">
                    Tümünü Gör
                    <i class="fas fa-arrow-right"></i>
                </a>
            </div>
            
            <div class="activities-list">
                {% for activity in recent_activities %}
                <div class="activity-item">
                    <div class="activity-icon {{ activity.log_type }}">
                        {% if activity.log_type == 'login' %}
                            <i class="fas fa-sign-in-alt"></i>
                        {% elif activity.log_type == 'device_add' %}
                            <i class="fas fa-plus"></i>
                        {% elif activity.log_type == 'device_update' %}
                            <i class="fas fa-edit"></i>
                        {% else %}
                            <i class="fas fa-info"></i>
                        {% endif %}
                    </div>
                    <div class="activity-content">
                        <div class="activity-header">
                            <h4 class="activity-user">
                                {% if is_admin %}
                                    {{ activity.user.get_full_name|default:activity.user.username }}
                                {% else %}
                                    Siz
                                {% endif %}
                            </h4>
                            <span class="activity-time">{{ activity.created_at|date:"d.m.Y H:i" }}</span>
                        </div>
                        <p class="activity-description">{{ activity.description }}</p>
                    </div>
                </div>
                {% empty %}
                <div class="empty-state">
                    <div class="empty-icon">
                        <i class="fas fa-info-circle"></i>
                    </div>
                    <h4 class="empty-title">Henüz aktivite bulunmuyor</h4>
                    <p class="empty-description">Sistem aktiviteleri burada görüntülenecek</p>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>

<!-- Chart.js Scripts -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Chart.js konfigürasyonu
    const chartColors = {
        primary: '#3b82f6',
        secondary: '#10b981',
        accent: '#f59e0b',
        danger: '#ef4444',
        purple: '#8b5cf6',
        cyan: '#06b6d4'
    };

    // Son 7 Günlük Cihaz Kayıtları Grafiği
    const deviceCtx = document.getElementById('deviceChart').getContext('2d');
    const deviceChart = new Chart(deviceCtx, {
        type: 'line',
        data: {
            labels: [{% for day in last_7_days_devices %}'{{ day.date }}'{% if not forloop.last %}, {% endif %}{% endfor %}],
            datasets: [{
                label: 'Yeni Cihazlar',
                data: [{% for day in last_7_days_devices %}{{ day.count }}{% if not forloop.last %}, {% endif %}{% endfor %}],
                borderColor: chartColors.primary,
                backgroundColor: `${chartColors.primary}20`,
                tension: 0.4,
                fill: true,
                borderWidth: 3,
                pointBackgroundColor: chartColors.primary,
                pointBorderColor: '#ffffff',
                pointBorderWidth: 2,
                pointRadius: 6,
                pointHoverRadius: 8
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    display: false
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    ticks: {
                        stepSize: 1,
                        color: '#6B7280',
                        font: {
                            size: 12
                        }
                    },
                    grid: {
                        color: 'rgba(107, 114, 128, 0.1)',
                        drawBorder: false
                    }
                },
                x: {
                    ticks: {
                        color: '#6B7280',
                        font: {
                            size: 12
                        }
                    },
                    grid: {
                        display: false
                    }
                }
            },
            interaction: {
                intersect: false,
                mode: 'index'
            }
        }
    });

    // Cihaz Türü Dağılımı Grafiği
    const deviceTypeCtx = document.getElementById('deviceTypeChart').getContext('2d');
    const deviceTypeChart = new Chart(deviceTypeCtx, {
        type: 'doughnut',
        data: {
            labels: [{% for type, count in device_type_stats.items %}'{{ type }}'{% if not forloop.last %}, {% endif %}{% endfor %}],
            datasets: [{
                data: [{% for type, count in device_type_stats.items %}{{ count }}{% if not forloop.last %}, {% endif %}{% endfor %}],
                backgroundColor: [
                    chartColors.primary,
                    chartColors.secondary,
                    chartColors.accent,
                    chartColors.danger,
                    chartColors.purple
                ],
                borderWidth: 3,
                borderColor: '#1f2937',
                hoverBorderWidth: 4,
                hoverBorderColor: '#ffffff'
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    display: false
                }
            },
            cutout: '60%',
            animation: {
                animateRotate: true,
                animateScale: true
            }
        }
    });

    {% if is_admin %}
    // Son 7 Günlük Kullanıcı Kayıtları Grafiği
    const userCtx = document.getElementById('userChart').getContext('2d');
    const userChart = new Chart(userCtx, {
        type: 'line',
        data: {
            labels: [{% for day in last_7_days_users %}'{{ day.date }}'{% if not forloop.last %}, {% endif %}{% endfor %}],
            datasets: [{
                label: 'Yeni Kullanıcılar',
                data: [{% for day in last_7_days_users %}{{ day.count }}{% if not forloop.last %}, {% endif %}{% endfor %}],
                borderColor: chartColors.secondary,
                backgroundColor: `${chartColors.secondary}20`,
                tension: 0.4,
                fill: true,
                borderWidth: 3,
                pointBackgroundColor: chartColors.secondary,
                pointBorderColor: '#ffffff',
                pointBorderWidth: 2,
                pointRadius: 6,
                pointHoverRadius: 8
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    display: false
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    ticks: {
                        stepSize: 1,
                        color: '#6B7280',
                        font: {
                            size: 12
                        }
                    },
                    grid: {
                        color: 'rgba(107, 114, 128, 0.1)',
                        drawBorder: false
                    }
                },
                x: {
                    ticks: {
                        color: '#6B7280',
                        font: {
                            size: 12
                        }
                    },
                    grid: {
                        display: false
                    }
                }
            }
        }
    });

    // Kullanıcı Rolü Dağılımı Grafiği
    const userRoleCtx = document.getElementById('userRoleChart').getContext('2d');
    const userRoleChart = new Chart(userRoleCtx, {
        type: 'doughnut',
        data: {
            labels: [{% for role, count in user_role_stats.items %}'{{ role }}'{% if not forloop.last %}, {% endif %}{% endfor %}],
            datasets: [{
                data: [{% for role, count in user_role_stats.items %}{{ count }}{% if not forloop.last %}, {% endif %}{% endfor %}],
                backgroundColor: [
                    chartColors.primary,
                    chartColors.secondary,
                    chartColors.accent
                ],
                borderWidth: 3,
                borderColor: '#1f2937',
                hoverBorderWidth: 4,
                hoverBorderColor: '#ffffff'
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    display: false
                }
            },
            cutout: '60%'
        }
    });
    {% endif %}

    // Chart period switcher
    const periodButtons = document.querySelectorAll('.chart-btn');
    periodButtons.forEach(button => {
        button.addEventListener('click', function() {
            periodButtons.forEach(btn => btn.classList.remove('active'));
            this.classList.add('active');
            // Burada period değişikliği için AJAX çağrısı yapılabilir
        });
    });
});
</script>

<style>
/* Dashboard Container */
.dashboard-container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 20px;
}

/* Hero Section */
.hero-section {
    background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
    border-radius: 24px;
    padding: 40px;
    margin-bottom: 32px;
    position: relative;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.hero-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, #3b82f6, #8b5cf6, #10b981, #f59e0b);
    background-size: 400% 100%;
    animation: gradientShift 3s ease infinite;
}

.hero-content {
    flex: 1;
    z-index: 2;
}

.hero-title {
    display: flex;
    flex-direction: column;
    margin-bottom: 16px;
}

.gradient-text {
    font-size: 2.5rem;
    font-weight: 800;
    background: linear-gradient(135deg, #3b82f6, #8b5cf6, #10b981);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 8px;
}

.hero-subtitle {
    font-size: 1.5rem;
    font-weight: 600;
    color: #e2e8f0;
}

.hero-description {
    color: #94a3b8;
    font-size: 1.1rem;
    margin-bottom: 24px;
}

.hero-stats {
    display: flex;
    gap: 24px;
}

.stat-item {
    text-align: center;
}

.stat-number {
    display: block;
    font-size: 2rem;
    font-weight: 700;
    color: #ffffff;
}

.stat-label {
    color: #94a3b8;
    font-size: 0.9rem;
}

.hero-actions {
    z-index: 2;
}

.quick-actions {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.action-btn {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 16px 24px;
    border-radius: 12px;
    text-decoration: none;
    font-weight: 600;
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
}

.action-btn.primary {
    background: linear-gradient(135deg, #3b82f6, #1d4ed8);
    color: white;
    box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3);
}

.action-btn.primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 35px rgba(59, 130, 246, 0.4);
}

.action-btn.secondary {
    background: rgba(255, 255, 255, 0.1);
    color: #e2e8f0;
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.action-btn.secondary:hover {
    background: rgba(255, 255, 255, 0.15);
    transform: translateY(-1px);
}

.hero-visual {
    position: relative;
    width: 300px;
    height: 300px;
}

.floating-cards {
    position: relative;
    width: 100%;
    height: 100%;
}

.floating-card {
    position: absolute;
    width: 80px;
    height: 80px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2rem;
    color: #ffffff;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    animation: float 6s ease-in-out infinite;
}

.floating-card.card-1 {
    top: 20px;
    left: 20px;
    animation-delay: 0s;
}

.floating-card.card-2 {
    top: 120px;
    right: 40px;
    animation-delay: 2s;
}

.floating-card.card-3 {
    bottom: 40px;
    left: 60px;
    animation-delay: 4s;
}

/* Dashboard Grid */
.dashboard-grid {
    display: flex;
    flex-direction: column;
    gap: 32px;
}

/* Statistics Row */
.stats-row {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 24px;
}

.stat-card {
    background: linear-gradient(135deg, #1f2937 0%, #374151 100%);
    border-radius: 20px;
    padding: 24px;
    border: 1px solid #4b5563;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.stat-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: var(--card-accent-color, #3b82f6);
}

.stat-card.primary { --card-accent-color: #3b82f6; }
.stat-card.success { --card-accent-color: #10b981; }
.stat-card.warning { --card-accent-color: #f59e0b; }
.stat-card.info { --card-accent-color: #06b6d4; }
.stat-card.purple { --card-accent-color: #8b5cf6; }

.stat-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
    border-color: var(--card-accent-color);
}

.stat-icon {
    width: 60px;
    height: 60px;
    background: linear-gradient(135deg, var(--card-accent-color), var(--card-accent-color)dd);
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    color: white;
    margin-bottom: 20px;
}

.stat-content h3 {
    color: #9ca3af;
    font-size: 0.9rem;
    font-weight: 500;
    margin-bottom: 8px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.stat-value {
    font-size: 2.5rem;
    font-weight: 700;
    color: #ffffff;
    margin-bottom: 12px;
}

.stat-change {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 0.9rem;
    font-weight: 500;
}

.stat-change.positive {
    color: #10b981;
}

.stat-change.negative {
    color: #ef4444;
}

.stat-change.neutral {
    color: #6b7280;
}

/* Charts Section */
.charts-section {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
    gap: 24px;
}

.chart-card {
    background: linear-gradient(135deg, #1f2937 0%, #374151 100%);
    border-radius: 20px;
    padding: 24px;
    border: 1px solid #4b5563;
}

.chart-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 20px;
}

.chart-title {
    color: #e2e8f0;
    font-size: 1.1rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 12px;
}

.chart-actions {
    display: flex;
    gap: 8px;
}

.chart-btn {
    padding: 8px 16px;
    border: 1px solid #4b5563;
    background: transparent;
    color: #9ca3af;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 0.9rem;
}

.chart-btn.active,
.chart-btn:hover {
    background: #3b82f6;
    border-color: #3b82f6;
    color: white;
}

.chart-legend {
    display: flex;
    flex-wrap: wrap;
    gap: 16px;
}

.legend-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 0.9rem;
}

.legend-color {
    width: 12px;
    height: 12px;
    border-radius: 50%;
}

.legend-label {
    color: #9ca3af;
}

.legend-value {
    color: #e2e8f0;
    font-weight: 600;
}

.chart-container {
    height: 300px;
    position: relative;
}

/* Quick Actions Section */
.quick-actions-section {
    background: linear-gradient(135deg, #1f2937 0%, #374151 100%);
    border-radius: 20px;
    padding: 32px;
    border: 1px solid #4b5563;
}

.section-header {
    text-align: center;
    margin-bottom: 32px;
}

.section-title {
    color: #e2e8f0;
    font-size: 1.5rem;
    font-weight: 600;
    margin-bottom: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
}

.section-subtitle {
    color: #9ca3af;
    font-size: 1rem;
}

.actions-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
}

.action-card {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    padding: 24px;
    text-decoration: none;
    transition: all 0.3s ease;
    text-align: center;
}

.action-card:hover {
    transform: translateY(-4px);
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.2);
}

.action-card.primary {
    border-color: #3b82f6;
}

.action-card.secondary {
    border-color: #6b7280;
}

.action-card.info {
    border-color: #06b6d4;
}

.action-card.warning {
    border-color: #f59e0b;
}

.action-card.purple {
    border-color: #8b5cf6;
}

.action-card.danger {
    border-color: #ef4444;
}

.action-icon {
    width: 60px;
    height: 60px;
    background: linear-gradient(135deg, #3b82f6, #1d4ed8);
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    color: white;
    margin: 0 auto 16px;
}

.action-title {
    color: #e2e8f0;
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: 8px;
}

.action-description {
    color: #9ca3af;
    font-size: 0.9rem;
    line-height: 1.5;
}

/* Activities Section */
.activities-section {
    background: linear-gradient(135deg, #1f2937 0%, #374151 100%);
    border-radius: 20px;
    padding: 32px;
    border: 1px solid #4b5563;
}

.activities-section .section-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 24px;
    text-align: left;
}

.view-all-link {
    color: #3b82f6;
    text-decoration: none;
    font-size: 0.9rem;
    font-weight: 500;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: color 0.2s ease;
}

.view-all-link:hover {
    color: #60a5fa;
}

.activities-list {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.activity-item {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 20px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.2s ease;
}

.activity-item:hover {
    background: rgba(255, 255, 255, 0.08);
    transform: translateX(4px);
}

.activity-icon {
    width: 48px;
    height: 48px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    color: white;
}

.activity-icon.login {
    background: linear-gradient(135deg, #10b981, #059669);
}

.activity-icon.device_add {
    background: linear-gradient(135deg, #3b82f6, #1d4ed8);
}

.activity-icon.device_update {
    background: linear-gradient(135deg, #f59e0b, #d97706);
}

.activity-icon.other {
    background: linear-gradient(135deg, #6b7280, #4b5563);
}

.activity-content {
    flex: 1;
}

.activity-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 4px;
}

.activity-user {
    color: #e2e8f0;
    font-weight: 600;
    font-size: 1rem;
}

.activity-time {
    color: #9ca3af;
    font-size: 0.9rem;
    font-family: monospace;
}

.activity-description {
    color: #9ca3af;
    font-size: 0.9rem;
}

/* Empty State */
.empty-state {
    text-align: center;
    padding: 40px 20px;
}

.empty-icon {
    font-size: 3rem;
    color: #6b7280;
    margin-bottom: 16px;
}

.empty-title {
    color: #9ca3af;
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: 8px;
}

.empty-description {
    color: #6b7280;
    font-size: 0.9rem;
}

/* Animations */
@keyframes gradientShift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
}

@keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-20px); }
}

/* Responsive Design */
@media (max-width: 1200px) {
    .hero-section {
        flex-direction: column;
        text-align: center;
        gap: 32px;
    }
    
    .hero-visual {
        width: 250px;
        height: 250px;
    }
    
    .stats-row {
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    }
    
    .charts-section {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 768px) {
    .dashboard-container {
        padding: 16px;
    }
    
    .hero-section {
        padding: 24px;
    }
    
    .gradient-text {
        font-size: 2rem;
    }
    
    .hero-stats {
        flex-direction: column;
        gap: 16px;
    }
    
    .stats-row {
        grid-template-columns: 1fr;
    }
    
    .actions-grid {
        grid-template-columns: 1fr;
    }
    
    .quick-actions-section,
    .activities-section {
        padding: 24px;
    }
}

@media (max-width: 480px) {
    .hero-section {
        padding: 20px;
    }
    
    .gradient-text {
        font-size: 1.5rem;
    }
    
    .hero-subtitle {
        font-size: 1.2rem;
    }
    
    .stat-card {
        padding: 20px;
    }
    
    .stat-value {
        font-size: 2rem;
    }
}
</style>
{% endblock %}
